!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="public",n(n.s=4)}([function(t,e,n){"use strict";
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */var o=".js-form-submit-btn",i=window.$,r=function(){i(document).on("click",o,(function(t){t.preventDefault();var e=i(t.target);if(!e.data("form-confirm-message")||!1!==window.confirm(e.data("form-confirm-message"))){var n="POST",o=null;if(e.data("method")){var r=e.data("method"),a=["GET","POST"].includes(r);n=a?r:"POST",a||(o=i("<input>",{type:"_hidden",name:"_method",value:r}))}var s=i("<form>",{action:e.data("form-submit-url"),method:n});o&&s.append(o),e.data("form-csrf-token")&&s.append(i("<input>",{type:"_hidden",name:"_csrf_token",value:e.data("form-csrf-token")})),s.appendTo("body").submit()}}))};
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */e.a=r},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,o){return t[0]===e&&(n=o,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),o=this.__entries__[n];return o&&o[1]},e.prototype.set=function(e,n){var o=t(this.__entries__,e);~o?this.__entries__[o][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,o=t(n,e);~o&&n.splice(o,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];t.call(e,i[1],i[0])}},e}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,o=!1,i=0;function a(){n&&(n=!1,t()),o&&c()}function s(){r(a)}function c(){var t=Date.now();if(n){if(t-i<2)return;o=!0}else n=!0,o=!1,setTimeout(s,e);i=t}return c}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},u=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},d=v(0,0,0,0);function f(t){return parseFloat(t)||0}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+f(t["border-"+n+"-width"])}),0)}function m(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var o=u(t).getComputedStyle(t),i=function(t){for(var e={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=t["padding-"+i];e[i]=f(r)}return e}(o),r=i.left+i.right,a=i.top+i.bottom,s=f(o.width),c=f(o.height);if("border-box"===o.boxSizing&&(Math.round(s+r)!==e&&(s-=h(o,"left","right")+r),Math.round(c+a)!==n&&(c-=h(o,"top","bottom")+a)),!function(t){return t===u(t).document.documentElement}(t)){var l=Math.round(s+r)-e,m=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(m)&&(c-=m)}return v(i.left,i.top,s,c)}var p="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof u(t).SVGGraphicsElement}:function(t){return t instanceof u(t).SVGElement&&"function"==typeof t.getBBox};function b(t){return o?p(t)?function(t){var e=t.getBBox();return v(0,0,e.width,e.height)}(t):m(t):d}function v(t,e,n,o){return{x:t,y:e,width:n,height:o}}var y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=b(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),g=function(t,e){var n,o,i,r,a,s,c,u=(o=(n=e).x,i=n.y,r=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:o,y:i,width:r,height:a,top:i,right:o+r,bottom:a+i,left:o}),c);l(this,{target:t,contentRect:u})},w=function(){function t(t,e,o){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=o}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new g(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_="undefined"!=typeof WeakMap?new WeakMap:new n,O=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),o=new w(e,n,this);_.set(this,o)};["observe","unobserve","disconnect"].forEach((function(t){O.prototype[t]=function(){var e;return(e=_.get(this))[t].apply(e,arguments)}}));var C=void 0!==i.ResizeObserver?i.ResizeObserver:O;e.a=C}).call(this,n(3))},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */var o={categoryDeleteAction:".js-delete-category-row-action",customerDeleteAction:".js-delete-customer-row-action",linkRowAction:".js-link-row-action",linkRowActionClickableFirst:".js-link-row-action[data-clickable-row=1]:first",clickableTd:"td.clickable"},i={showQuery:".js-common_show_query-grid-action",exportQuery:".js-common_export_sql_manager-grid-action",showModalForm:function(t){return"#".concat(t,"_common_show_query_modal_form")},showModalGrid:function(t){return"#".concat(t,"_grid_common_show_query_modal")},modalFormSubmitBtn:".js-bulk-modal-form-submit-btn",submitModalFormBtn:".js-submit-modal-form-btn",bulkInputsBlock:function(t){return"#".concat(t)},tokenInput:function(t){return'input[name="'.concat(t,'[_token]"]')},ajaxBulkActionConfirmModal:function(t,e){return"".concat(t,"-ajax-").concat(e,"-confirm-modal")},ajaxBulkActionProgressModal:function(t,e){return"".concat(t,"-ajax-").concat(e,"-progress-modal")}},r=function(t){return"".concat(t,"-grid-confirm-modal")},a=".js-grid-table",s=function(t){return"#".concat(t,"_grid")},c=".js-grid-panel",l=".js-grid-header",u=".ps-togglable-row",d="table.table",f=".header-toolbar",h=".breadcrumb-item",m=".js-reset-search",p=".js-common_refresh_list-grid-action",b=".btn-sql-submit",v=window.$,y=function(){function t(t){this.id=t,this.$container=v(s(this.id))}return t.prototype.getId=function(){return this.id},t.prototype.getContainer=function(){return this.$container},t.prototype.getHeaderContainer=function(){return this.$container.closest(c).find(l)},t.prototype.addExtension=function(t){t.extend(this)},t}();
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
function g(t){return void 0===t}
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
var w,_=window.$,O=function(){function t(t){void 0===t&&(t=void 0),this.onClick=t}return t.prototype.extend=function(t){this.initRowLinks(t),this.initConfirmableActions(t)},t.prototype.initConfirmableActions=function(t){t.getContainer().on("click",o.linkRowAction,(function(t){var e=_(t.currentTarget).data("confirm-message");e.length&&!window.confirm(e)&&t.preventDefault()}))},t.prototype.initRowLinks=function(t){var e=this.onClick;_("tr",t.getContainer()).each((function(){var t=_(this);_(o.linkRowActionClickableFirst,t).each((function(){var n=_(this),i=n.closest("td"),r=_(o.clickableTd,t).not(i),a=!1;r.addClass("cursor-pointer").mousedown((function(){_(window).mousemove((function(){a=!0,_(window).unbind("mousemove")}))})),r.mouseup((function(){var t=a;if(a=!1,_(window).unbind("mousemove"),!t){var o=n.data("confirm-message");(!o.length||window.confirm(o)&&n.attr("href"))&&(g(e)||g(n.get(0))?document.location.href=n.attr("href"):e(n.get(0)))}}))}))}))},t}(),C=function(){return(C=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},E=function(){function t(t){var e=C({id:"confirm-modal",closable:!1},t);this.buildModalContainer(e)}return t.prototype.buildModalContainer=function(t){var e=this;this.container=document.createElement("div"),this.container.classList.add("modal","fade"),this.container.id=t.id,this.dialog=document.createElement("div"),this.dialog.classList.add("modal-dialog"),t.dialogStyle&&Object.keys(t.dialogStyle).forEach((function(n){e.dialog.style[n]=t.dialogStyle[n]})),this.content=document.createElement("div"),this.content.classList.add("modal-content"),this.message=document.createElement("p"),this.message.classList.add("modal-message"),this.header=document.createElement("div"),this.header.classList.add("modal-header"),t.modalTitle&&(this.title=document.createElement("h4"),this.title.classList.add("modal-title"),this.title.innerHTML=t.modalTitle),this.closeIcon=document.createElement("button"),this.closeIcon.classList.add("close"),this.closeIcon.setAttribute("type","button"),this.closeIcon.dataset.dismiss="modal",this.closeIcon.innerHTML="×",this.body=document.createElement("div"),this.body.classList.add("modal-body","text-left","font-weight-normal"),this.title&&this.header.appendChild(this.title),this.header.appendChild(this.closeIcon),this.content.append(this.header,this.body),this.body.appendChild(this.message),this.dialog.appendChild(this.content),this.container.appendChild(this.dialog)},t}(),L=function(){function t(t){var e=C({id:"confirm-modal",closable:!1,dialogStyle:{}},t);this.initContainer(e)}return t.prototype.initContainer=function(t){this.modal||(this.modal=new E(t)),this.$modal=$(this.modal.container);var e=t.id,n=t.closable;this.$modal.modal({backdrop:!!n||"static",keyboard:void 0===n||n,show:!1}),this.$modal.on("hidden.bs.modal",(function(){var n=document.querySelector("#".concat(e));n&&n.remove(),t.closeCallback&&t.closeCallback()})),document.body.appendChild(this.modal.container)},t.prototype.setTitle=function(t){return this.modal.title||(this.modal.title=document.createElement("h4"),this.modal.title.classList.add("modal-title"),this.modal.closeIcon?this.modal.header.insertBefore(this.modal.title,this.modal.closeIcon):this.modal.header.appendChild(this.modal.title)),this.modal.title.innerHTML=t,this},t.prototype.render=function(t){return this.modal.message.innerHTML=t,this},t.prototype.show=function(){return this.$modal.modal("show"),this},t.prototype.hide=function(){var t=this;return this.$modal.modal("hide"),this.$modal.on("shown.bs.modal",(function(){t.$modal.modal("hide"),t.$modal.off("shown.bs.modal")})),this},t}(),k=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(){return(B=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},M=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},T=function(t){function e(e){return t.call(this,e)||this}return k(e,t),e.prototype.buildModalContainer=function(e){var n;t.prototype.buildModalContainer.call(this,e),this.message.classList.add("confirm-message"),this.message.innerHTML=e.confirmMessage,this.footer=document.createElement("div"),this.footer.classList.add("modal-footer"),this.closeButton=document.createElement("button"),this.closeButton.setAttribute("type","button"),this.closeButton.classList.add("btn","btn-outline-secondary","btn-lg"),this.closeButton.dataset.dismiss="modal",this.closeButton.innerHTML=e.closeButtonLabel,this.confirmButton=document.createElement("button"),this.confirmButton.setAttribute("type","button"),this.confirmButton.classList.add("btn",e.confirmButtonClass,"btn-lg","btn-confirm-submit"),this.confirmButton.dataset.dismiss="modal",this.confirmButton.innerHTML=e.confirmButtonLabel,(n=this.footer).append.apply(n,M(M([this.closeButton],e.customButtons,!1),[this.confirmButton],!1)),this.content.append(this.footer)},e}(E),x=function(t){function e(e,n,o){var i,r;r=g(e.confirmCallback)?g(n)?function(){console.error("No confirm callback provided for ConfirmModal component.")}:n:e.confirmCallback;var a=B({id:"confirm-modal",confirmMessage:"Are you sure?",closeButtonLabel:"Close",confirmButtonLabel:"Accept",confirmButtonClass:"btn-primary",customButtons:[],closable:!1,modalTitle:e.confirmTitle,dialogStyle:{},confirmCallback:r,closeCallback:null!==(i=e.closeCallback)&&void 0!==i?i:o},e);return t.call(this,a)||this}return k(e,t),e.prototype.initContainer=function(e){this.modal=new T(e),this.modal.confirmButton.addEventListener("click",e.confirmCallback),t.prototype.initContainer.call(this,e)},e}(L),j=n(1),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(t){function e(n,o){void 0===o&&(o={});var i=t.call(this,e.parentWindowEvent)||this;return i.eventName=n,i.eventParameters=o,i}return S(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parameters",{get:function(){return this.eventParameters},enumerable:!1,configurable:!0}),e.parentWindowEvent="IframeClientEvent",e}(Event),z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(){return(P=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},R=function(t){function e(e){return t.call(this,e)||this}return z(e,t),e.prototype.buildModalContainer=function(e){t.prototype.buildModalContainer.call(this,e),this.container.classList.add("modal-iframe"),this.message.classList.add("d-none"),this.iframe=document.createElement("iframe"),this.iframe.frameBorder="0",this.iframe.scrolling="no",this.iframe.width="100%",this.iframe.setAttribute("name","".concat(e.id,"-iframe")),e.autoSize||(this.iframe.height="100%"),this.loader=document.createElement("div"),this.loader.classList.add("modal-iframe-loader"),this.spinner=document.createElement("div"),this.spinner.classList.add("spinner"),this.loader.appendChild(this.spinner),this.body.append(this.loader,this.iframe),g(e.closeButtonLabel)&&g(e.confirmButtonLabel)||(this.footer=document.createElement("div"),this.footer.classList.add("modal-footer"),g(e.closeButtonLabel)||(this.closeButton=document.createElement("button"),this.closeButton.setAttribute("type","button"),this.closeButton.classList.add("btn","btn-outline-secondary","btn-lg"),this.closeButton.dataset.dismiss="modal",this.closeButton.innerHTML=e.closeButtonLabel,this.footer.append(this.closeButton)),g(e.confirmButtonLabel)||(this.confirmButton=document.createElement("button"),this.confirmButton.setAttribute("type","button"),this.confirmButton.classList.add("btn","btn-primary","btn-lg","btn-confirm-submit"),e.closeOnConfirm&&(this.confirmButton.dataset.dismiss="modal"),this.confirmButton.innerHTML=e.confirmButtonLabel,this.footer.append(this.confirmButton)),this.content.append(this.footer))},e}(E),I=function(t){function e(e){var n=P({id:"iframe-modal",closable:!1,autoSize:!0,autoSizeContainer:"body",closeOnConfirm:!0,autoScrollUp:!0},e);return t.call(this,n)||this}return z(e,t),e.prototype.initContainer=function(e){var n=this;this.modal=new R(e),t.prototype.initContainer.call(this,e),this.autoSize=e.autoSize,this.autoSizeContainer=e.autoSizeContainer,this.modal.iframe.addEventListener("load",(function(t){n.modal.body.scroll(0,0),n.hideLoading(),e.onLoaded&&e.onLoaded(n.modal.iframe,t),n.modal.iframe.contentWindow&&(n.modal.iframe.contentWindow.addEventListener("beforeunload",(function(t){e.onUnload&&e.onUnload(n.modal.iframe,t),n.showLoading()})),n.initAutoResize())})),this.$modal.on("shown.bs.modal",(function(){n.modal.iframe.src=e.iframeUrl})),window.addEventListener(A.parentWindowEvent,(function(t){e.onIframeEvent&&e.onIframeEvent(t)})),this.modal.confirmButton&&e.confirmCallback&&this.modal.confirmButton.addEventListener("click",(function(t){e.confirmCallback&&e.confirmCallback(n.modal.iframe,t)}))},e.prototype.render=function(t,e){return void 0===e&&(e=!0),this.modal.message.innerHTML=t,this.modal.message.classList.remove("d-none"),e&&this.hideIframe(),this.autoResize(),this.hideLoading(),this},e.prototype.showLoading=function(){var t=this.getOuterHeight(this.modal.body),e=this.getOuterWidth(this.modal.body);return this.modal.loader.style.height="".concat(t,"px"),this.modal.loader.style.width="".concat(e,"px"),this.modal.loader.classList.remove("d-none"),this.modal.iframe.classList.remove("invisible"),this.modal.iframe.classList.add("invisible"),this},e.prototype.hideLoading=function(){return this.modal.iframe.classList.remove("invisible"),this.modal.iframe.classList.add("visible"),this.modal.loader.classList.add("d-none"),this},e.prototype.hide=function(){return t.prototype.hide.call(this),this.cleanResizeObserver(),this},e.prototype.hideIframe=function(){this.modal.iframe.classList.add("d-none")},e.prototype.getResizableContainer=function(){return this.autoSize&&this.modal.iframe.contentWindow?this.modal.iframe.contentWindow.document.querySelector(this.autoSizeContainer):null},e.prototype.initAutoResize=function(){var t=this,e=this.getResizableContainer();e&&(this.cleanResizeObserver(),this.resizeObserver=new j.a((function(){t.autoResize()})),this.resizeObserver.observe(e)),this.autoResize()},e.prototype.cleanResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},e.prototype.autoResize=function(){var t=this.getResizableContainer();if(t){var e=t.scrollHeight,n=this.getOuterHeight(this.modal.message)+e;n&&(this.modal.iframe.style.height="".concat(n,"px"))}},e.prototype.getOuterHeight=function(t){if(!t.offsetHeight)return 0;var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},e.prototype.getOuterWidth=function(t){if(!t.offsetWidth)return 0;var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},e}(L),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),H=function(){return(H=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},q=(function(t){function e(e){var n=this,o=H({iframeUrl:e.formUrl,onLoaded:function(t,o){var i,r;n.onIframeLoaded(t,o,e.onFormLoaded,null!==(i=e.cancelButtonSelector)&&void 0!==i?i:".cancel-btn",null!==(r=e.formSelector)&&void 0!==r?r:"form")},confirmCallback:function(t,o){var i;n.onConfirmCallback(t,o,e.formConfirmCallback,null!==(i=e.formSelector)&&void 0!==i?i:"form")}},e);return n=t.call(this,o)||this}F(e,t),e.prototype.onIframeLoaded=function(t,e,n,o,i){var r,a=this;if(n){var s=this.getForm(t,i);if(s)s.querySelectorAll(o).forEach((function(t){t.addEventListener("click",(function(){a.hide()}))})),n(s,new FormData(s),null!==(r=s.dataset)&&void 0!==r?r:null,e)}},e.prototype.onConfirmCallback=function(t,e,n,o){if(n){var i=this.getForm(t,o);i&&n(i,t,e)}},e.prototype.getForm=function(t,e){return t.contentWindow?t.contentWindow.document.querySelector(e):null}}(I),window.$),D=function(){function t(){}return t.prototype.extend=function(t){var e=this;t.getContainer().on("click",".js-submit-row-action",(function(n){n.preventDefault();var o=q(n.currentTarget),i=o.data("confirmMessage"),r=o.data("title"),a=o.data("method");if(r)e.showConfirmModal(o,t,i,r,a);else{if(i.length&&!window.confirm(i))return;e.postForm(o,a)}}))},t.prototype.postForm=function(t,e){var n=["GET","POST"].includes(e),o=q("<form>",{action:t.data("url"),method:n?e:"POST"}).appendTo("body");n||o.append(q("<input>",{type:"hidden",name:"_method",value:e})),o.submit()},t.prototype.showConfirmModal=function(t,e,n,o,i){var a=this,s=t.data("confirmButtonLabel"),c=t.data("closeButtonLabel"),l=t.data("confirmButtonClass");new x({id:r(e.getId()),confirmTitle:o,confirmMessage:n,confirmButtonLabel:s,closeButtonLabel:c,confirmButtonClass:l},(function(){return a.postForm(t,i)})).show()},t}(),W=window.$,U=function(){function t(t){var e;this.selector=".ps-sortable-column",this.idTable=null!==(e=t.attr("id"))&&void 0!==e?e:"",this.columns=t.find(this.selector)}return t.prototype.attach=function(){var t=this;this.columns.on("click",(function(e){var n=W(e.delegateTarget);t.sortByColumn(n,t.getToggledSortDirection(n))}))},t.prototype.sortBy=function(t,e){if(!this.columns.is('[data-sort-col-name="'.concat(t,'"]')))throw new Error('Cannot sort by "'.concat(t,'": invalid column'));this.sortByColumn(this.columns,e)},t.prototype.sortByColumn=function(t,e){window.location.href=this.getUrl(t.data("sortColName"),"desc"===e?"desc":"asc",t.data("sortPrefix"))},t.prototype.getToggledSortDirection=function(t){return"asc"===t.data("sortDirection")?"desc":"asc"},t.prototype.getUrl=function(t,e,n){var o=new URL(window.location.href),i=o.searchParams;return n?(i.set("".concat(n,"[orderBy]"),t),i.set("".concat(n,"[sortOrder]"),e)):(i.set("orderBy",t),i.set("sortOrder",e)),o.hash=this.idTable,o.toString()},t}(),G=function(){function t(){}return t.prototype.extend=function(t){var e=t.getContainer().find(d);new U(e).attach()},t}();
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
const{$:N}=window;var Q=function(t,e){N.post(t).then(()=>window.location.assign(e))},V=window.$,J=function(){function t(){}return t.prototype.extend=function(t){t.getContainer().on("click",m,(function(t){Q(V(t.currentTarget).data("url"),V(t.currentTarget).data("redirect"))}))},t}(),K=function(){function t(){}return t.prototype.extend=function(t){t.getHeaderContainer().on("click",p,(function(){window.location.reload()}))},t}(),X=window.$,Y=function(){function t(){}return t.prototype.extend=function(t){var e=this;t.getContainer().find(d).find(u).on("click",(function(t){t.preventDefault(),e.toggleValue(X(t.delegateTarget))}))},t.prototype.toggleValue=function(t){var e=t.data("toggleUrl");this.submitAsForm(e)},t.prototype.submitAsForm=function(t){X("<form>",{action:t,method:"POST"}).appendTo("body").submit()},t}(),Z=window.$,tt=function(){function t(){}return t.prototype.extend=function(t){var e=this;t.getHeaderContainer().on("click",i.showQuery,(function(){return e.onShowSqlQueryClick(t)})),t.getHeaderContainer().on("click",i.exportQuery,(function(){return e.onExportSqlManagerClick(t)}))},t.prototype.onShowSqlQueryClick=function(t){var e=Z(i.showModalForm(t.getId()));this.fillExportForm(e,t);var n=Z(i.showModalGrid(t.getId()));n.modal("show"),n.on("click",b,(function(){return e.submit()}))},t.prototype.onExportSqlManagerClick=function(t){var e=Z(i.showModalForm(t.getId()));this.fillExportForm(e,t),e.submit()},t.prototype.fillExportForm=function(t,e){var n=e.getContainer().find(a).data("query");t.find('textarea[name="sql"]').val(n),t.find('input[name="name"]').val(this.getNameFromBreadcrumb())},t.prototype.getNameFromBreadcrumb=function(){var t=Z(f).find(h),e="";return t.each((function(t,n){var o=Z(n),i=o.find("a").length>0?o.find("a").text():o.text();e.length>0&&(e=e.concat(" > ")),e=e.concat(i)})),e},t}(),et=n(0);
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
/**
 * Copyright since 2007 Carmine Di Gruttola
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 *  @author    cdigruttola <c.digruttola@hotmail.it>
 *  @copyright Copyright since 2007 Carmine Di Gruttola
 *  @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 *
 */
const{$:nt}=window;nt(()=>{const t=new y("cartrulequantity");t.addExtension(new G),t.addExtension(new O),t.addExtension(new D),t.addExtension(new J),t.addExtension(new K),t.addExtension(new Y),t.addExtension(new tt),new et.a})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2NvbXBvbmVudHMtbWFwLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9mb3JtLXN1Ym1pdC1idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9ub2RlX21vZHVsZXMvcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsL2Rpc3QvUmVzaXplT2JzZXJ2ZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvZ3JpZC9ncmlkLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvdHlwZXMvdHlwZWd1YXJkLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9saW5rLXJvdy1hY3Rpb24tZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9tb2RhbC9jb25maXJtLW1vZGFsLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9tb2RhbC9tb2RhbC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvbW9kYWwvaWZyYW1lLWV2ZW50LnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9tb2RhbC9pZnJhbWUtbW9kYWwudHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL21vZGFsL2Zvcm0taWZyYW1lLW1vZGFsLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9hY3Rpb24vcm93L3N1Ym1pdC1yb3ctYWN0aW9uLWV4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2FwcC91dGlscy90YWJsZS1zb3J0aW5nLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9zb3J0aW5nLWV4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2FwcC91dGlscy9yZXNldF9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL2ZpbHRlcnMtcmVzZXQtZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9yZWxvYWQtbGlzdC1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL2NvbHVtbi10b2dnbGluZy1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL2V4cG9ydC10by1zcWwtbWFuYWdlci1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vYWRtaW4vaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCIkYnRuIiwidGFyZ2V0IiwiZGF0YSIsImNvbmZpcm0iLCJtZXRob2QiLCJhZGRJbnB1dCIsImJ0bk1ldGhvZCIsImlzR2V0T3JQb3N0TWV0aG9kIiwiaW5jbHVkZXMiLCJ0eXBlIiwiJGZvcm0iLCJhY3Rpb24iLCJhcHBlbmQiLCJhcHBlbmRUbyIsInN1Ym1pdCIsIk1hcFNoaW0iLCJNYXAiLCJnZXRJbmRleCIsImFyciIsInJlc3VsdCIsInNvbWUiLCJlbnRyeSIsImluZGV4IiwiY2xhc3NfMSIsInRoaXMiLCJfX2VudHJpZXNfXyIsImxlbmd0aCIsImNvbmZpZ3VyYWJsZSIsInNldCIsInB1c2giLCJkZWxldGUiLCJlbnRyaWVzIiwic3BsaWNlIiwiaGFzIiwiY2xlYXIiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJjdHgiLCJfaSIsIl9hIiwiaXNCcm93c2VyIiwiZ2xvYmFsJDEiLCJnbG9iYWwiLCJNYXRoIiwic2VsZiIsIkZ1bmN0aW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiRGF0ZSIsIm5vdyIsInRyYW5zaXRpb25LZXlzIiwibXV0YXRpb25PYnNlcnZlclN1cHBvcnRlZCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIiLCJjb25uZWN0ZWRfIiwibXV0YXRpb25FdmVudHNBZGRlZF8iLCJtdXRhdGlvbnNPYnNlcnZlcl8iLCJvYnNlcnZlcnNfIiwib25UcmFuc2l0aW9uRW5kXyIsInJlZnJlc2giLCJkZWxheSIsImxlYWRpbmdDYWxsIiwidHJhaWxpbmdDYWxsIiwibGFzdENhbGxUaW1lIiwicmVzb2x2ZVBlbmRpbmciLCJwcm94eSIsInRpbWVvdXRDYWxsYmFjayIsInRpbWVTdGFtcCIsInRocm90dGxlIiwiYWRkT2JzZXJ2ZXIiLCJvYnNlcnZlciIsImluZGV4T2YiLCJjb25uZWN0XyIsInJlbW92ZU9ic2VydmVyIiwib2JzZXJ2ZXJzIiwiZGlzY29ubmVjdF8iLCJ1cGRhdGVPYnNlcnZlcnNfIiwiYWN0aXZlT2JzZXJ2ZXJzIiwiZmlsdGVyIiwiZ2F0aGVyQWN0aXZlIiwiaGFzQWN0aXZlIiwiYnJvYWRjYXN0QWN0aXZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsIl9iIiwicHJvcGVydHlOYW1lIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZV8iLCJkZWZpbmVDb25maWd1cmFibGUiLCJwcm9wcyIsImtleXMiLCJ3cml0YWJsZSIsImdldFdpbmRvd09mIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiZW1wdHlSZWN0IiwiY3JlYXRlUmVjdEluaXQiLCJ0b0Zsb2F0IiwicGFyc2VGbG9hdCIsImdldEJvcmRlcnNTaXplIiwic3R5bGVzIiwicG9zaXRpb25zIiwiYXJndW1lbnRzIiwicmVkdWNlIiwic2l6ZSIsInBvc2l0aW9uIiwiZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhZGRpbmdzIiwicG9zaXRpb25zXzEiLCJnZXRQYWRkaW5ncyIsImhvcml6UGFkIiwibGVmdCIsInJpZ2h0IiwidmVydFBhZCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2l6aW5nIiwicm91bmQiLCJkb2N1bWVudEVsZW1lbnQiLCJpc0RvY3VtZW50RWxlbWVudCIsInZlcnRTY3JvbGxiYXIiLCJob3JpelNjcm9sbGJhciIsImFicyIsImlzU1ZHR3JhcGhpY3NFbGVtZW50IiwiU1ZHR3JhcGhpY3NFbGVtZW50IiwiU1ZHRWxlbWVudCIsImdldEJCb3giLCJnZXRDb250ZW50UmVjdCIsImJib3giLCJnZXRTVkdDb250ZW50UmVjdCIsIngiLCJ5IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJicm9hZGNhc3RXaWR0aCIsImJyb2FkY2FzdEhlaWdodCIsImNvbnRlbnRSZWN0XyIsImlzQWN0aXZlIiwicmVjdCIsImJyb2FkY2FzdFJlY3QiLCJSZXNpemVPYnNlcnZlckVudHJ5IiwicmVjdEluaXQiLCJDb25zdHIiLCJjb250ZW50UmVjdCIsIkRPTVJlY3RSZWFkT25seSIsIlJlc2l6ZU9ic2VydmVyU1BJIiwiY29udHJvbGxlciIsImNhbGxiYWNrQ3R4IiwiYWN0aXZlT2JzZXJ2YXRpb25zXyIsIm9ic2VydmF0aW9uc18iLCJUeXBlRXJyb3IiLCJjYWxsYmFja18iLCJjb250cm9sbGVyXyIsImNhbGxiYWNrQ3R4XyIsIkVsZW1lbnQiLCJvYnNlcnZhdGlvbnMiLCJ1bm9ic2VydmUiLCJjbGVhckFjdGl2ZSIsIl90aGlzIiwib2JzZXJ2YXRpb24iLCJtYXAiLCJXZWFrTWFwIiwiUmVzaXplT2JzZXJ2ZXIiLCJhcHBseSIsImciLCJlIiwiY2F0ZWdvcnlEZWxldGVBY3Rpb24iLCJjdXN0b21lckRlbGV0ZUFjdGlvbiIsImxpbmtSb3dBY3Rpb24iLCJsaW5rUm93QWN0aW9uQ2xpY2thYmxlRmlyc3QiLCJjbGlja2FibGVUZCIsInNob3dRdWVyeSIsImV4cG9ydFF1ZXJ5Iiwic2hvd01vZGFsRm9ybSIsImlkIiwiY29uY2F0Iiwic2hvd01vZGFsR3JpZCIsIm1vZGFsRm9ybVN1Ym1pdEJ0biIsInN1Ym1pdE1vZGFsRm9ybUJ0biIsImJ1bGtJbnB1dHNCbG9jayIsInRva2VuSW5wdXQiLCJhamF4QnVsa0FjdGlvbkNvbmZpcm1Nb2RhbCIsImJ1bGtBY3Rpb24iLCJhamF4QnVsa0FjdGlvblByb2dyZXNzTW9kYWwiLCJHcmlkIiwiJGNvbnRhaW5lciIsImdldElkIiwiZ2V0Q29udGFpbmVyIiwiZ2V0SGVhZGVyQ29udGFpbmVyIiwiY2xvc2VzdCIsImZpbmQiLCJhZGRFeHRlbnNpb24iLCJleHRlbnNpb24iLCJleHRlbmQiLCJpc1VuZGVmaW5lZCIsImV4dGVuZFN0YXRpY3MiLCJMaW5rUm93QWN0aW9uRXh0ZW5zaW9uIiwib25DbGljayIsInVuZGVmaW5lZCIsImdyaWQiLCJpbml0Um93TGlua3MiLCJpbml0Q29uZmlybWFibGVBY3Rpb25zIiwiY29uZmlybU1lc3NhZ2UiLCJjdXJyZW50VGFyZ2V0Iiwib25DbGlja0NhbGxiYWNrIiwiZWFjaCIsIiRwYXJlbnRSb3ciLCIkcm93QWN0aW9uIiwiJHBhcmVudENlbGwiLCJjbGlja2FibGVDZWxscyIsIm5vdCIsImlzRHJhZ2dpbmciLCJhZGRDbGFzcyIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsInVuYmluZCIsIm1vdXNldXAiLCJ3YXNEcmFnZ2luZyIsImF0dHIiLCJsb2NhdGlvbiIsImhyZWYiLCJfX2Fzc2lnbiIsImFzc2lnbiIsIk1vZGFsQ29udGFpbmVyIiwiaW5wdXRQYXJhbXMiLCJwYXJhbXMiLCJjbG9zYWJsZSIsImJ1aWxkTW9kYWxDb250YWluZXIiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGlhbG9nIiwiZGlhbG9nU3R5bGUiLCJzdHlsZSIsImNvbnRlbnQiLCJtZXNzYWdlIiwiaGVhZGVyIiwibW9kYWxUaXRsZSIsInRpdGxlIiwiaW5uZXJIVE1MIiwiY2xvc2VJY29uIiwic2V0QXR0cmlidXRlIiwiZGF0YXNldCIsImRpc21pc3MiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJNb2RhbCIsImluaXRDb250YWluZXIiLCJtb2RhbCIsIiRtb2RhbCIsImJhY2tkcm9wIiwia2V5Ym9hcmQiLCJzaG93IiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsImNsb3NlQ2FsbGJhY2siLCJzZXRUaXRsZSIsImluc2VydEJlZm9yZSIsInJlbmRlciIsImhpZGUiLCJvZmYiLCJfX2V4dGVuZHMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIlN0cmluZyIsIl9fIiwiY29uc3RydWN0b3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImFyIiwic2xpY2UiLCJDb25maXJtTW9kYWxDb250YWluZXIiLCJfc3VwZXIiLCJmb290ZXIiLCJjbG9zZUJ1dHRvbiIsImNsb3NlQnV0dG9uTGFiZWwiLCJjb25maXJtQnV0dG9uIiwiY29uZmlybUJ1dHRvbkNsYXNzIiwiY29uZmlybUJ1dHRvbkxhYmVsIiwiY3VzdG9tQnV0dG9ucyIsIkNvbmZpcm1Nb2RhbCIsImNvbmZpcm1DYWxsYmFjayIsImNhbmNlbENhbGxiYWNrIiwiY29uZmlybU1vZGFsQ2FsbGJhY2siLCJjb25zb2xlIiwiZXJyb3IiLCJjb25maXJtVGl0bGUiLCJJZnJhbWVFdmVudCIsImV2ZW50TmFtZSIsInBhcmFtZXRlcnMiLCJwYXJlbnRXaW5kb3dFdmVudCIsImV2ZW50UGFyYW1ldGVycyIsIkV2ZW50IiwiSWZyYW1lTW9kYWxDb250YWluZXIiLCJpZnJhbWUiLCJmcmFtZUJvcmRlciIsInNjcm9sbGluZyIsImF1dG9TaXplIiwibG9hZGVyIiwic3Bpbm5lciIsImNsb3NlT25Db25maXJtIiwiSWZyYW1lTW9kYWwiLCJhdXRvU2l6ZUNvbnRhaW5lciIsImF1dG9TY3JvbGxVcCIsImxvYWRlZEV2ZW50Iiwic2Nyb2xsIiwiaGlkZUxvYWRpbmciLCJvbkxvYWRlZCIsImNvbnRlbnRXaW5kb3ciLCJ1bmxvYWRFdmVudCIsIm9uVW5sb2FkIiwic2hvd0xvYWRpbmciLCJpbml0QXV0b1Jlc2l6ZSIsInNyYyIsImlmcmFtZVVybCIsIm9uSWZyYW1lRXZlbnQiLCJoaWRlSWZyYW1lIiwiYXV0b1Jlc2l6ZSIsImJvZHlIZWlnaHQiLCJnZXRPdXRlckhlaWdodCIsImJvZHlXaWR0aCIsImdldE91dGVyV2lkdGgiLCJjbGVhblJlc2l6ZU9ic2VydmVyIiwiZ2V0UmVzaXphYmxlQ29udGFpbmVyIiwiaWZyYW1lQ29udGFpbmVyIiwicmVzaXplT2JzZXJ2ZXIiLCJpZnJhbWVTY3JvbGxIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJjb250ZW50SGVpZ2h0IiwiZWxlbWVudCIsIm9mZnNldEhlaWdodCIsInBhcnNlSW50IiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwib2Zmc2V0V2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJGb3JtSWZyYW1lTW9kYWwiLCJpZnJhbWVQYXJhbXMiLCJmb3JtVXJsIiwib25JZnJhbWVMb2FkZWQiLCJvbkZvcm1Mb2FkZWQiLCJjYW5jZWxCdXR0b25TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIm9uQ29uZmlybUNhbGxiYWNrIiwiZm9ybUNvbmZpcm1DYWxsYmFjayIsImlmcmFtZUZvcm0iLCJnZXRGb3JtIiwicXVlcnlTZWxlY3RvckFsbCIsImNhbmNlbEJ1dHRvbiIsIkZvcm1EYXRhIiwiU3VibWl0Um93QWN0aW9uRXh0ZW5zaW9uIiwiJGJ1dHRvbiIsInNob3dDb25maXJtTW9kYWwiLCJwb3N0Rm9ybSIsIiRzdWJtaXRCdG4iLCJUYWJsZVNvcnRpbmciLCJ0YWJsZSIsInNlbGVjdG9yIiwiaWRUYWJsZSIsImNvbHVtbnMiLCJhdHRhY2giLCIkY29sdW1uIiwiZGVsZWdhdGVUYXJnZXQiLCJzb3J0QnlDb2x1bW4iLCJnZXRUb2dnbGVkU29ydERpcmVjdGlvbiIsInNvcnRCeSIsImNvbHVtbk5hbWUiLCJkaXJlY3Rpb24iLCJpcyIsIkVycm9yIiwiY29sdW1uIiwiZ2V0VXJsIiwiY29sTmFtZSIsInByZWZpeCIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImhhc2giLCJ0b1N0cmluZyIsIlNvcnRpbmdFeHRlbnNpb24iLCIkc29ydGFibGVUYWJsZSIsInJlZGlyZWN0VXJsIiwicG9zdCIsInRoZW4iLCJGaWx0ZXJzUmVzZXRFeHRlbnNpb24iLCJSZWxvYWRMaXN0RXh0ZW5zaW9uIiwicmVsb2FkIiwiQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24iLCJ0b2dnbGVWYWx1ZSIsInJvdyIsInRvZ2dsZVVybCIsInN1Ym1pdEFzRm9ybSIsIkV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbiIsIm9uU2hvd1NxbFF1ZXJ5Q2xpY2siLCJvbkV4cG9ydFNxbE1hbmFnZXJDbGljayIsIiRzcWxNYW5hZ2VyRm9ybSIsImZpbGxFeHBvcnRGb3JtIiwicXVlcnkiLCJ2YWwiLCJnZXROYW1lRnJvbUJyZWFkY3J1bWIiLCIkYnJlYWRjcnVtYnMiLCJpdGVtIiwiJGJyZWFkY3J1bWIiLCJicmVhZGNydW1iVGl0bGUiLCJ0ZXh0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFB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T0FBUyxFQUMvQ3lZLEVBQVkxTixLQUFLLEtBQUs0TixPQUN0QkYsRUFBWUUsT0FDZHBjLEVBQUt5RCxPQUFTLElBQ2R6RCxFQUFPQSxFQUFLeU4sT0FBTyxRQUV2QnpOLEVBQU9BLEVBQUt5TixPQUFPME8sTUFFaEJuYyxHQUVKd2IsRUFuRnFDLEc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNNaEQsTUFBTy9aLEVBQUMsSUFBSUMsT0FFWixHQUFFLEtBQ0UsTUFBTXVOLEVBQU8sSUFBSSxFQUFLLG9CQUN0QkEsRUFBS1IsYUFBYSxJQUFJLEdBQ3RCUSxFQUFLUixhQUFhLElBQUksR0FDdEJRLEVBQUtSLGFBQWEsSUFBSSxHQUN0QlEsRUFBS1IsYUFBYSxJQUFJLEdBQ3RCUSxFQUFLUixhQUFhLElBQUksR0FDdEJRLEVBQUtSLGFBQWEsSUFBSSxHQUN0QlEsRUFBS1IsYUFBYSxJQUFJLElBRXRCLElBQUkiLCJmaWxlIjoiYWRtaW5faW5kZXguYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJwdWJsaWNcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIG11bHRpc3RvcmVEcm9wZG93bjoge1xuICAgICAgICBzZWFyY2hJbnB1dDogJy5qcy1tdWx0aXN0b3JlLWRyb3Bkb3duLXNlYXJjaCcsXG4gICAgICAgIHNjcm9sbGJhcjogJy5qcy1tdWx0aXN0b3JlLXNjcm9sbGJhcicsXG4gICAgfSxcbiAgICBtdWx0aXN0b3JlSGVhZGVyOiB7XG4gICAgICAgIG1vZGFsOiAnLmpzLW11bHRpc2hvcC1tb2RhbCcsXG4gICAgICAgIG1vZGFsRGlhbG9nOiAnLmpzLW11bHRpc2hvcC1tb2RhbC1kaWFsb2cnLFxuICAgICAgICBoZWFkZXJNdWx0aVNob3A6ICcuaGVhZGVyLW11bHRpc2hvcCcsXG4gICAgICAgIGhlYWRlckJ1dHRvbjogJy5qcy1oZWFkZXItbXVsdGlzaG9wLW9wZW4tbW9kYWwnLFxuICAgICAgICBzZWFyY2hJbnB1dDogJy5qcy1tdWx0aXNob3AtbW9kYWwtc2VhcmNoJyxcbiAgICAgICAganNTY3JvbGxiYXI6ICcuanMtbXVsdGlzaG9wLXNjcm9sbGJhcicsXG4gICAgICAgIHNob3BMaW5rczogJ2EubXVsdGlzaG9wLW1vZGFsLXNob3AtbmFtZScsXG4gICAgICAgIGdyb3VwU2hvcExpbmtzOiAnYS5tdWx0aXNob3AtbW9kYWwtZ3JvdXAtbmFtZScsXG4gICAgICAgIHNldENvbnRleHRVcmw6IGZ1bmN0aW9uIChsb2NhdGlvbiwgdXJsTGV0dGVyLCBpdGVtSWQpIHsgcmV0dXJuIFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiZzZXRTaG9wQ29udGV4dD1cIikuY29uY2F0KHVybExldHRlciwgXCItXCIpLmNvbmNhdChpdGVtSWQpOyB9LFxuICAgIH0sXG4gICAgc2hvcFNlbGVjdG9yOiB7XG4gICAgICAgIGNvbnRhaW5lcjogJy5zaG9wLXNlbGVjdG9yJyxcbiAgICAgICAgc2VsZWN0SW5wdXQ6ICcuc2hvcC1zZWxlY3Rvci1pbnB1dCcsXG4gICAgICAgIHNlYXJjaElucHV0OiAnLmpzLXNob3Atc2VsZWN0b3Itc2VhcmNoJyxcbiAgICAgICAgc2hvcEl0ZW06ICcuc2hvcC1zZWxlY3Rvci1zaG9wLWl0ZW0nLFxuICAgICAgICBzZWxlY3RlZENsYXNzOiAnc2VsZWN0ZWQtc2hvcCcsXG4gICAgICAgIGN1cnJlbnRDbGFzczogJ2N1cnJlbnQtc2hvcCcsXG4gICAgICAgIHNob3BTdGF0dXM6ICcuc2hvcC1zZWxlY3Rvci1zdGF0dXMnLFxuICAgIH0sXG4gICAgY2hvaWNlVGFibGU6IHtcbiAgICAgICAgc2VsZWN0QWxsOiAnLmpzLWNob2ljZS10YWJsZS1zZWxlY3QtYWxsJyxcbiAgICB9LFxuICAgIG11bHRpcGxlQ2hvaWNlVGFibGU6IHtcbiAgICAgICAgc2VsZWN0Q29sdW1uOiAnLmpzLW11bHRpcGxlLWNob2ljZS10YWJsZS1zZWxlY3QtY29sdW1uJyxcbiAgICAgICAgc2VsZWN0Q29sdW1uQ2hlY2tib3g6IGZ1bmN0aW9uIChjb2x1bW5OdW0pIHsgcmV0dXJuIFwidGJvZHkgdHIgdGQ6bnRoLWNoaWxkKFwiLmNvbmNhdChjb2x1bW5OdW0sIFwiKSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKTsgfSxcbiAgICB9LFxuICAgIGZvcm1TdWJtaXRCdXR0b246ICcuanMtZm9ybS1zdWJtaXQtYnRuJyxcbiAgICBtb2R1bGVDYXJkOiB7XG4gICAgICAgIG1vZHVsZUl0ZW1MaXN0OiBmdW5jdGlvbiAodGVjaE5hbWUpIHsgcmV0dXJuIFwiZGl2Lm1vZHVsZS1pdGVtLWxpc3RbZGF0YS10ZWNoLW5hbWU9J1wiLmNvbmNhdCh0ZWNoTmFtZSwgXCInXVwiKTsgfSxcbiAgICAgICAgbW9kdWxlSXRlbTogZnVuY3Rpb24gKHRlY2hOYW1lKSB7IHJldHVybiBcIi5tb2R1bGUtaXRlbVtkYXRhLXRlY2gtbmFtZT0nXCIuY29uY2F0KHRlY2hOYW1lLCBcIiddXCIpOyB9LFxuICAgIH0sXG4gICAgY29uZmlybU1vZGFsOiBmdW5jdGlvbiAobW9kYWxJZCkgeyByZXR1cm4gXCIjXCIuY29uY2F0KG1vZGFsSWQpOyB9LFxuICAgIHRyYW5zbGF0YWJsZUZpZWxkOiB7XG4gICAgICAgIHRvZ2dsZVRhYjogJy50cmFuc2xhdGlvbnNMb2NhbGVzLm5hdiAubmF2LWl0ZW0gYVtkYXRhLXRvZ2dsZT1cInRhYlwiXScsXG4gICAgICAgIG5hdjogJy50cmFuc2xhdGlvbnNMb2NhbGVzLm5hdicsXG4gICAgICAgIHNlbGVjdDogJy50cmFuc2xhdGlvbi1maWVsZCcsXG4gICAgICAgIHNwZWNpZmljTG9jYWxlOiBmdW5jdGlvbiAoc2VsZWN0ZWRMb2NhbGUpIHsgcmV0dXJuIFwiLm5hdi1pdGVtIGFbZGF0YS1sb2NhbGU9XFxcIlwiLmNvbmNhdChzZWxlY3RlZExvY2FsZSwgXCJcXFwiXVwiKTsgfSxcbiAgICB9LFxuICAgIGVudGl0eVNlYXJjaElucHV0OiB7XG4gICAgICAgIHNlYXJjaElucHV0U2VsZWN0b3I6ICcuZW50aXR5LXNlYXJjaC1pbnB1dCcsXG4gICAgICAgIGVudGl0aWVzQ29udGFpbmVyU2VsZWN0b3I6ICcuZW50aXRpZXMtbGlzdCcsXG4gICAgICAgIGxpc3RDb250YWluZXJTZWxlY3RvcjogJy5lbnRpdGllcy1saXN0LWNvbnRhaW5lcicsXG4gICAgICAgIGVudGl0eUl0ZW1TZWxlY3RvcjogJy5lbnRpdHktaXRlbScsXG4gICAgICAgIGVudGl0eURlbGV0ZVNlbGVjdG9yOiAnLmVudGl0eS1pdGVtLWRlbGV0ZScsXG4gICAgICAgIGVtcHR5U3RhdGVTZWxlY3RvcjogJy5lbXB0eS1lbnRpdHktbGlzdCcsXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICAgIHNlbGVjdENob2ljZTogZnVuY3Rpb24gKGxhbmd1YWdlKSB7IHJldHVybiBcInNlbGVjdC50cmFuc2xhdGFibGVfY2hvaWNlW2RhdGEtbGFuZ3VhZ2U9XFxcIlwiLmNvbmNhdChsYW5ndWFnZSwgXCJcXFwiXVwiKTsgfSxcbiAgICAgICAgc2VsZWN0TGFuZ3VhZ2U6ICdzZWxlY3QudHJhbnNsYXRhYmxlX2Nob2ljZV9sYW5ndWFnZScsXG4gICAgfSxcbiAgICBzdWJtaXR0YWJsZUlucHV0OiB7XG4gICAgICAgIGlucHV0U2VsZWN0b3I6ICcuc3VibWl0dGFibGUtaW5wdXQnLFxuICAgICAgICBidXR0b25TZWxlY3RvcjogJy5jaGVjay1idXR0b24nLFxuICAgIH0sXG4gICAgZGVsdGFRdWFudGl0eUlucHV0OiB7XG4gICAgICAgIGNvbnRhaW5lclNlbGVjdG9yOiAnLmRlbHRhLXF1YW50aXR5JyxcbiAgICAgICAgcXVhbnRpdHlJbnB1dFNlbGVjdG9yOiAnLmRlbHRhLXF1YW50aXR5LXF1YW50aXR5JyxcbiAgICAgICAgZGVsdGFJbnB1dFNlbGVjdG9yOiAnLmRlbHRhLXF1YW50aXR5LWRlbHRhJyxcbiAgICAgICAgdXBkYXRlUXVhbnRpdHlTZWxlY3RvcjogJy5xdWFudGl0eS11cGRhdGUnLFxuICAgICAgICBtb2RpZmllZFF1YW50aXR5Q2xhc3M6ICdxdWFudGl0eS1tb2RpZmllZCcsXG4gICAgICAgIG5ld1F1YW50aXR5U2VsZWN0b3I6ICcubmV3LXF1YW50aXR5JyxcbiAgICAgICAgaW5pdGlhbFF1YW50aXR5UHJldmlld1NlbGVjdG9yOiAnLmluaXRpYWwtcXVhbnRpdHknLFxuICAgIH0sXG4gICAgZGlzYWJsaW5nU3dpdGNoOiB7XG4gICAgICAgIGRpc2FibGluZ1NlbGVjdG9yOiAnLnBzLWRpc2FibGluZy1zd2l0Y2ggaW5wdXQucHMtc3dpdGNoJyxcbiAgICB9LFxuICAgIGN1cnJlbnRMZW5ndGg6ICcuanMtY3VycmVudC1sZW5ndGgnLFxuICAgIHJlY29tbWVuZGVkTGVuZ3RoSW5wdXQ6ICcuanMtcmVjb21tZW5kZWQtbGVuZ3RoLWlucHV0JyxcbiAgICBtdWx0aXN0b3JlQ2hlY2tib3g6ICcubXVsdGlzdG9yZS1jaGVja2JveCcsXG4gICAgZm9ybUdyb3VwOiAnLmZvcm0tZ3JvdXAnLFxuICAgIGlucHV0Tm90Q2hlY2tib3g6ICc6aW5wdXQ6bm90KC5tdWx0aXN0b3JlLWNoZWNrYm94KScsXG4gICAgaW5wdXRDb250YWluZXI6ICcuaW5wdXQtY29udGFpbmVyJyxcbiAgICBmb3JtQ29udHJvbExhYmVsOiAnLmZvcm0tY29udHJvbC1sYWJlbCcsXG4gICAgdGluZU1jZUVkaXRvcjoge1xuICAgICAgICBzZWxlY3RvcjogJy5hdXRvbG9hZF9ydGUnLFxuICAgICAgICBzZWxlY3RvckNsYXNzOiAnYXV0b2xvYWRfcnRlJyxcbiAgICB9LFxuICAgIGNvbnRleHR1YWxOb3RpZmljYXRpb246IHtcbiAgICAgICAgY2xvc2U6ICcuY29udGV4dHVhbC1ub3RpZmljYXRpb24gLmNsb3NlJyxcbiAgICAgICAgbWVzc2FnZUJveElkOiAnY29udGVudC1tZXNzYWdlLWJveCcsXG4gICAgICAgIG5vdGlmaWNhdGlvbkJveElkOiAnY29udGV4dHVhbC1ub3RpZmljYXRpb24tYm94JyxcbiAgICAgICAgbm90aWZpY2F0aW9uQ2xhc3M6ICdjb250ZXh0dWFsLW5vdGlmaWNhdGlvbicsXG4gICAgfSxcbiAgICBhamF4Q29uZmlybWF0aW9uOiAnI2FqYXhfY29uZmlybWF0aW9uJyxcbiAgICBkYXRlUmFuZ2U6IHtcbiAgICAgICAgY29udGFpbmVyOiAnLmRhdGUtcmFuZ2UnLFxuICAgICAgICBlbmREYXRlOiAnLmRhdGUtcmFuZ2UtZW5kLWRhdGUnLFxuICAgICAgICB1bmxpbWl0ZWRDaGVja2JveDogJy5kYXRlLXJhbmdlLXVubGltaXRlZCcsXG4gICAgfSxcbiAgICBwcm9ncmVzc01vZGFsOiB7XG4gICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgIG1vZGFsOiAnbW9kYWwtcHJvZ3Jlc3MnLFxuICAgICAgICAgICAgc3dpdGNoVG9FcnJvckJ1dHRvbjogJ3N3aXRjaC10by1lcnJvcnMtYnV0dG9uJyxcbiAgICAgICAgICAgIHByb2dyZXNzUGVyY2VudDogJ3Byb2dyZXNzLXBlcmNlbnQnLFxuICAgICAgICAgICAgc3RvcFByb2Nlc3Npbmc6ICdzdG9wLXByb2Nlc3NpbmcnLFxuICAgICAgICAgICAgcHJvZ3Jlc3NIZWFkbGluZTogJ3Byb2dyZXNzLWhlYWRsaW5lJyxcbiAgICAgICAgICAgIHByb2dyZXNzTWVzc2FnZTogJ3Byb2dyZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgICAgcHJvZ3Jlc3NJY29uOiAncHJvZ3Jlc3MtaWNvbicsXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdwcm9ncmVzcy1lcnJvci1tZXNzYWdlJyxcbiAgICAgICAgICAgIGVycm9yQ29udGFpbmVyOiAncHJvZ3Jlc3MtZXJyb3ItY29udGFpbmVyJyxcbiAgICAgICAgICAgIHN3aXRjaFRvUHJvZ3Jlc3NCdXR0b246ICdzd2l0Y2gtdG8tcHJvZ3Jlc3MtYnV0dG9uJyxcbiAgICAgICAgICAgIGRvd25sb2FkRXJyb3JMb2dCdXR0b246ICdkb3dubG9hZC1lcnJvci1sb2cnLFxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXJEb25lOiAnbW9kYWxfcHJvZ3Jlc3NiYXJfZG9uZScsXG4gICAgICAgICAgICBjbG9zZU1vZGFsQnV0dG9uOiAnY2xvc2UtbW9kYWwtYnV0dG9uJyxcbiAgICAgICAgICAgIHByb2dyZXNzTW9kYWxFcnJvcjogJ3Byb2dyZXNzLW1vZGFsLWVycm9yJyxcbiAgICAgICAgICAgIHByb2dyZXNzU3RhdHVzSWNvbjogZnVuY3Rpb24gKHN0YXR1cykgeyByZXR1cm4gXCJwcm9ncmVzcy1cIi5jb25jYXQoc3RhdHVzLCBcIi1pY29uXCIpOyB9LFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IENvbXBvbmVudHNNYXAgZnJvbSAnLi9jb21wb25lbnRzLW1hcCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDb21wb25lbnQgd2hpY2ggYWxsb3dzIHN1Ym1pdHRpbmcgdmVyeSBzaW1wbGUgZm9ybXMgd2l0aG91dCBoYXZpbmcgdG8gdXNlIDxmb3JtPiBlbGVtZW50LlxuICpcbiAqIFVzZWZ1bCB3aGVuIHBlcmZvcm1pbmcgYWN0aW9ucyBvbiByZXNvdXJjZSB3aGVyZSBVUkwgY29udGFpbnMgYWxsIG5lZWRlZCBkYXRhLlxuICogRm9yIGV4YW1wbGUsIHRvIHRvZ2dsZSBjYXRlZ29yeSBzdGF0dXMgdmlhIFwiUE9TVCAvY2F0ZWdvcmllcy8yL3RvZ2dsZS1zdGF0dXMpXCJcbiAqIG9yIGRlbGV0ZSBjb3ZlciBpbWFnZSB2aWEgXCJQT1NUIC9jYXRlZ29yaWVzLzIvZGVsZXRlLWNvdmVyLWltYWdlXCIuXG4gKlxuICogVXNhZ2UgZXhhbXBsZSBpbiB0ZW1wbGF0ZTpcbiAqXG4gKiA8YnV0dG9uIGNsYXNzPVwianMtZm9ybS1zdWJtaXQtYnRuXCJcbiAqICAgICAgICAgZGF0YS1mb3JtLXN1Ym1pdC11cmw9XCIvbXktY3VzdG9tLXVybFwiICAgICAgICAgIC8vIChyZXF1aXJlZCkgVVJMIHRvIHdoaWNoIGZvcm0gd2lsbCBiZSBzdWJtaXR0ZWRcbiAqICAgICAgICAgZGF0YS1tZXRob2Q9XCJHRVR8UE9TVHxERUxFVEV8UEFUQ0hcIiAgICAgICAgICAgIC8vIChvcHRpb25hbCkgc3BlY2lmeSB0aGUgdmVyYiB0byB1c2UgZm9yIHRoZSByZXF1ZXN0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBPU1QgaXMgdGFrZW4gYnkgZGVmYXVsdCBpZiBub3QgdmFsdWUgaXMgc2V0XG4gKiAgICAgICAgIGRhdGEtZm9ybS1jc3JmLXRva2VuPVwibXktZ2VuZXJhdGVkLWNzcmYtdG9rZW5cIiAvLyAob3B0aW9uYWwpIHRvIGluY3JlYXNlIHNlY3VyaXR5XG4gKiAgICAgICAgIGRhdGEtZm9ybS1jb25maXJtLW1lc3NhZ2U9XCJBcmUgeW91IHN1cmU/XCIgICAgICAvLyAob3B0aW9uYWwpIHRvIGNvbmZpcm0gYWN0aW9uIGJlZm9yZSBzdWJtaXRcbiAqICAgICAgICAgdHlwZT1cImJ1dHRvblwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBpdHMgc2ltcGxlIGJ1dHRvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIGNhbiBhdm9pZCBzdWJtaXR0aW5nIGFjdHVhbCBmb3JtXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBvdXIgYnV0dG9uIGlzIGRlZmluZWQgaW5zaWRlIGZvcm1cbiAqID5cbiAqICAgICBDbGljayBtZSB0byBzdWJtaXQgZm9ybVxuICogPC9idXR0b24+XG4gKlxuICogSW4gcGFnZSBzcGVjaWZpYyBKUyB5b3UgaGF2ZSB0byBlbmFibGUgdGhpcyBmZWF0dXJlOlxuICpcbiAqIG5ldyBGb3JtU3VibWl0QnV0dG9uKCk7XG4gKi9cbnZhciBGb3JtU3VibWl0QnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1TdWJtaXRCdXR0b24oKSB7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIENvbXBvbmVudHNNYXAuZm9ybVN1Ym1pdEJ1dHRvbiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyICRidG4gPSAkKGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICBpZiAoJGJ0bi5kYXRhKCdmb3JtLWNvbmZpcm0tbWVzc2FnZScpXG4gICAgICAgICAgICAgICAgJiYgd2luZG93LmNvbmZpcm0oJGJ0bi5kYXRhKCdmb3JtLWNvbmZpcm0tbWVzc2FnZScpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICAgICAgdmFyIGFkZElucHV0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICgkYnRuLmRhdGEoJ21ldGhvZCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ0bk1ldGhvZCA9ICRidG4uZGF0YSgnbWV0aG9kJyk7XG4gICAgICAgICAgICAgICAgdmFyIGlzR2V0T3JQb3N0TWV0aG9kID0gWydHRVQnLCAnUE9TVCddLmluY2x1ZGVzKGJ0bk1ldGhvZCk7XG4gICAgICAgICAgICAgICAgbWV0aG9kID0gaXNHZXRPclBvc3RNZXRob2QgPyBidG5NZXRob2QgOiAnUE9TVCc7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0dldE9yUG9zdE1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJbnB1dCA9ICQoJzxpbnB1dD4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnX2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnX21ldGhvZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYnRuTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgJGZvcm0gPSAkKCc8Zm9ybT4nLCB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAkYnRuLmRhdGEoJ2Zvcm0tc3VibWl0LXVybCcpLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYWRkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAkZm9ybS5hcHBlbmQoYWRkSW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCRidG4uZGF0YSgnZm9ybS1jc3JmLXRva2VuJykpIHtcbiAgICAgICAgICAgICAgICAkZm9ybS5hcHBlbmQoJCgnPGlucHV0PicsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ19oaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnX2NzcmZfdG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJGJ0bi5kYXRhKCdmb3JtLWNzcmYtdG9rZW4nKSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkZm9ybS5hcHBlbmRUbygnYm9keScpLnN1Ym1pdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEZvcm1TdWJtaXRCdXR0b247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRm9ybVN1Ym1pdEJ1dHRvbjtcbiIsIi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2Ygc2hpbXMgdGhhdCBwcm92aWRlIG1pbmltYWwgZnVuY3Rpb25hbGl0eSBvZiB0aGUgRVM2IGNvbGxlY3Rpb25zLlxyXG4gKlxyXG4gKiBUaGVzZSBpbXBsZW1lbnRhdGlvbnMgYXJlIG5vdCBtZWFudCB0byBiZSB1c2VkIG91dHNpZGUgb2YgdGhlIFJlc2l6ZU9ic2VydmVyXHJcbiAqIG1vZHVsZXMgYXMgdGhleSBjb3ZlciBvbmx5IGEgbGltaXRlZCByYW5nZSBvZiB1c2UgY2FzZXMuXHJcbiAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSByZXF1aXJlLWpzZG9jLCB2YWxpZC1qc2RvYyAqL1xyXG52YXIgTWFwU2hpbSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gTWFwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGluZGV4IGluIHByb3ZpZGVkIGFycmF5IHRoYXQgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGtleS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5Pn0gYXJyXHJcbiAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0SW5kZXgoYXJyLCBrZXkpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gLTE7XHJcbiAgICAgICAgYXJyLnNvbWUoZnVuY3Rpb24gKGVudHJ5LCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoZW50cnlbMF0gPT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcclxuICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xhc3NfMS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19lbnRyaWVzX18ubGVuZ3RoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcclxuICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5fX2VudHJpZXNfX1tpbmRleF07XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVsxXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4KHRoaXMuX19lbnRyaWVzX18sIGtleSk7XHJcbiAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX19baW5kZXhdWzFdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9fZW50cmllc19fLnB1c2goW2tleSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5fX2VudHJpZXNfXztcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgoZW50cmllcywga2V5KTtcclxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhfmdldEluZGV4KHRoaXMuX19lbnRyaWVzX18sIGtleSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXy5zcGxpY2UoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW2N0eD1udWxsXVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgICAgICAgICBpZiAoY3R4ID09PSB2b2lkIDApIHsgY3R4ID0gbnVsbDsgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5fX2VudHJpZXNfXzsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBlbnRyeVsxXSwgZW50cnlbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gY2xhc3NfMTtcclxuICAgIH0oKSk7XHJcbn0pKCk7XG5cbi8qKlxyXG4gKiBEZXRlY3RzIHdoZXRoZXIgd2luZG93IGFuZCBkb2N1bWVudCBvYmplY3RzIGFyZSBhdmFpbGFibGUgaW4gY3VycmVudCBlbnZpcm9ubWVudC5cclxuICovXHJcbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCA9PT0gZG9jdW1lbnQ7XG5cbi8vIFJldHVybnMgZ2xvYmFsIG9iamVjdCBvZiBhIGN1cnJlbnQgZW52aXJvbm1lbnQuXHJcbnZhciBnbG9iYWwkMSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLk1hdGggPT09IE1hdGgpIHtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT09IE1hdGgpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PT0gTWF0aCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3c7XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcclxuICAgIHJldHVybiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xyXG59KSgpO1xuXG4vKipcclxuICogQSBzaGltIGZvciB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHdoaWNoIGZhbGxzIGJhY2sgdG8gdGhlIHNldFRpbWVvdXQgaWZcclxuICogZmlyc3Qgb25lIGlzIG5vdCBzdXBwb3J0ZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJlcXVlc3RzJyBpZGVudGlmaWVyLlxyXG4gKi9cclxudmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gSXQncyByZXF1aXJlZCB0byB1c2UgYSBib3VuZGVkIGZ1bmN0aW9uIGJlY2F1c2UgSUUgc29tZXRpbWVzIHRocm93c1xyXG4gICAgICAgIC8vIGFuIFwiSW52YWxpZCBjYWxsaW5nIG9iamVjdFwiIGVycm9yIGlmIHJBRiBpcyBpbnZva2VkIHdpdGhvdXQgdGhlIGdsb2JhbFxyXG4gICAgICAgIC8vIG9iamVjdCBvbiB0aGUgbGVmdCBoYW5kIHNpZGUuXHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKGdsb2JhbCQxKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHsgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soRGF0ZS5ub3coKSk7IH0sIDEwMDAgLyA2MCk7IH07XHJcbn0pKCk7XG5cbi8vIERlZmluZXMgbWluaW11bSB0aW1lb3V0IGJlZm9yZSBhZGRpbmcgYSB0cmFpbGluZyBjYWxsLlxyXG52YXIgdHJhaWxpbmdUaW1lb3V0ID0gMjtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIHdoaWNoIGVuc3VyZXMgdGhhdCBwcm92aWRlZCBjYWxsYmFjayB3aWxsIGJlXHJcbiAqIGludm9rZWQgb25seSBvbmNlIGR1cmluZyB0aGUgc3BlY2lmaWVkIGRlbGF5IHBlcmlvZC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZSBkZWxheSBwZXJpb2QuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSAtIERlbGF5IGFmdGVyIHdoaWNoIHRvIGludm9rZSBjYWxsYmFjay5cclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gKi9cclxuZnVuY3Rpb24gdGhyb3R0bGUgKGNhbGxiYWNrLCBkZWxheSkge1xyXG4gICAgdmFyIGxlYWRpbmdDYWxsID0gZmFsc2UsIHRyYWlsaW5nQ2FsbCA9IGZhbHNlLCBsYXN0Q2FsbFRpbWUgPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIHRoZSBvcmlnaW5hbCBjYWxsYmFjayBmdW5jdGlvbiBhbmQgc2NoZWR1bGVzIG5ldyBpbnZvY2F0aW9uIGlmXHJcbiAgICAgKiB0aGUgXCJwcm94eVwiIHdhcyBjYWxsZWQgZHVyaW5nIGN1cnJlbnQgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVBlbmRpbmcoKSB7XHJcbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XHJcbiAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cmFpbGluZ0NhbGwpIHtcclxuICAgICAgICAgICAgcHJveHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIGludm9rZWQgYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheS4gSXQgd2lsbCBmdXJ0aGVyIHBvc3Rwb25lXHJcbiAgICAgKiBpbnZvY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBkZWxlZ2F0aW5nIGl0IHRvIHRoZVxyXG4gICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0aW1lb3V0Q2FsbGJhY2soKSB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEocmVzb2x2ZVBlbmRpbmcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTY2hlZHVsZXMgaW52b2NhdGlvbiBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHByb3h5KCkge1xyXG4gICAgICAgIHZhciB0aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xyXG4gICAgICAgICAgICAvLyBSZWplY3QgaW1tZWRpYXRlbHkgZm9sbG93aW5nIGNhbGxzLlxyXG4gICAgICAgICAgICBpZiAodGltZVN0YW1wIC0gbGFzdENhbGxUaW1lIDwgdHJhaWxpbmdUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2NoZWR1bGUgbmV3IGNhbGwgdG8gYmUgaW4gaW52b2tlZCB3aGVuIHRoZSBwZW5kaW5nIG9uZSBpcyByZXNvbHZlZC5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIFwidHJhbnNpdGlvbnNcIiB3aGljaCBuZXZlciBhY3R1YWxseSBzdGFydFxyXG4gICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBzbyB0aGVyZSBpcyBhIGNoYW5jZSB0aGF0IHdlIG1pZ2h0IG1pc3Mgb25lIGlmIGNoYW5nZVxyXG4gICAgICAgICAgICAvLyBoYXBwZW5zIGFtaWRzIHRoZSBwZW5kaW5nIGludm9jYXRpb24uXHJcbiAgICAgICAgICAgIHRyYWlsaW5nQ2FsbCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZWFkaW5nQ2FsbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRyYWlsaW5nQ2FsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRpbWVvdXRDYWxsYmFjaywgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lU3RhbXA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJveHk7XHJcbn1cblxuLy8gTWluaW11bSBkZWxheSBiZWZvcmUgaW52b2tpbmcgdGhlIHVwZGF0ZSBvZiBvYnNlcnZlcnMuXHJcbnZhciBSRUZSRVNIX0RFTEFZID0gMjA7XHJcbi8vIEEgbGlzdCBvZiBzdWJzdHJpbmdzIG9mIENTUyBwcm9wZXJ0aWVzIHVzZWQgdG8gZmluZCB0cmFuc2l0aW9uIGV2ZW50cyB0aGF0XHJcbi8vIG1pZ2h0IGFmZmVjdCBkaW1lbnNpb25zIG9mIG9ic2VydmVkIGVsZW1lbnRzLlxyXG52YXIgdHJhbnNpdGlvbktleXMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCcsICd3aWR0aCcsICdoZWlnaHQnLCAnc2l6ZScsICd3ZWlnaHQnXTtcclxuLy8gQ2hlY2sgaWYgTXV0YXRpb25PYnNlcnZlciBpcyBhdmFpbGFibGUuXHJcbnZhciBtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkID0gdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnO1xyXG4vKipcclxuICogU2luZ2xldG9uIGNvbnRyb2xsZXIgY2xhc3Mgd2hpY2ggaGFuZGxlcyB1cGRhdGVzIG9mIFJlc2l6ZU9ic2VydmVyIGluc3RhbmNlcy5cclxuICovXHJcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBET00gbGlzdGVuZXJzIGhhdmUgYmVlbiBhZGRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkXyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRlbGxzIHRoYXQgY29udHJvbGxlciBoYXMgc3Vic2NyaWJlZCBmb3IgTXV0YXRpb24gRXZlbnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge2Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEtlZXBzIHJlZmVyZW5jZSB0byB0aGUgaW5zdGFuY2Ugb2YgTXV0YXRpb25PYnNlcnZlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtNdXRhdGlvbk9ic2VydmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfID0gbnVsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2YgY29ubmVjdGVkIG9ic2VydmVycy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtBcnJheTxSZXNpemVPYnNlcnZlclNQST59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnNfID0gW107XHJcbiAgICAgICAgdGhpcy5vblRyYW5zaXRpb25FbmRfID0gdGhpcy5vblRyYW5zaXRpb25FbmRfLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoID0gdGhyb3R0bGUodGhpcy5yZWZyZXNoLmJpbmQodGhpcyksIFJFRlJFU0hfREVMQVkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIG9ic2VydmVyIHRvIG9ic2VydmVycyBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJTUEl9IG9ic2VydmVyIC0gT2JzZXJ2ZXIgdG8gYmUgYWRkZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5hZGRPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgIGlmICghfnRoaXMub2JzZXJ2ZXJzXy5pbmRleE9mKG9ic2VydmVyKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyc18ucHVzaChvYnNlcnZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBsaXN0ZW5lcnMgaWYgdGhleSBoYXZlbid0IGJlZW4gYWRkZWQgeWV0LlxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWRfKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdF8oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIG9ic2VydmVyIGZyb20gb2JzZXJ2ZXJzIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlclNQSX0gb2JzZXJ2ZXIgLSBPYnNlcnZlciB0byBiZSByZW1vdmVkLlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNfO1xyXG4gICAgICAgIHZhciBpbmRleCA9IG9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKTtcclxuICAgICAgICAvLyBSZW1vdmUgb2JzZXJ2ZXIgaWYgaXQncyBwcmVzZW50IGluIHJlZ2lzdHJ5LlxyXG4gICAgICAgIGlmICh+aW5kZXgpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlbW92ZSBsaXN0ZW5lcnMgaWYgY29udHJvbGxlciBoYXMgbm8gY29ubmVjdGVkIG9ic2VydmVycy5cclxuICAgICAgICBpZiAoIW9ic2VydmVycy5sZW5ndGggJiYgdGhpcy5jb25uZWN0ZWRfKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdF8oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLiBJdCB3aWxsIGNvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpbnNvZmFyXHJcbiAgICAgKiBpdCBkZXRlY3RzIGNoYW5nZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hhbmdlc0RldGVjdGVkID0gdGhpcy51cGRhdGVPYnNlcnZlcnNfKCk7XHJcbiAgICAgICAgLy8gQ29udGludWUgcnVubmluZyB1cGRhdGVzIGlmIGNoYW5nZXMgaGF2ZSBiZWVuIGRldGVjdGVkIGFzIHRoZXJlIG1pZ2h0XHJcbiAgICAgICAgLy8gYmUgZnV0dXJlIG9uZXMgY2F1c2VkIGJ5IENTUyB0cmFuc2l0aW9ucy5cclxuICAgICAgICBpZiAoY2hhbmdlc0RldGVjdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgZXZlcnkgb2JzZXJ2ZXIgZnJvbSBvYnNlcnZlcnMgbGlzdCBhbmQgbm90aWZpZXMgdGhlbSBvZiBxdWV1ZWRcclxuICAgICAqIGVudHJpZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIFwidHJ1ZVwiIGlmIGFueSBvYnNlcnZlciBoYXMgZGV0ZWN0ZWQgY2hhbmdlcyBpblxyXG4gICAgICogICAgICBkaW1lbnNpb25zIG9mIGl0J3MgZWxlbWVudHMuXHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlT2JzZXJ2ZXJzXyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBDb2xsZWN0IG9ic2VydmVycyB0aGF0IGhhdmUgYWN0aXZlIG9ic2VydmF0aW9ucy5cclxuICAgICAgICB2YXIgYWN0aXZlT2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNfLmZpbHRlcihmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmdhdGhlckFjdGl2ZSgpLCBvYnNlcnZlci5oYXNBY3RpdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEZWxpdmVyIG5vdGlmaWNhdGlvbnMgaW4gYSBzZXBhcmF0ZSBjeWNsZSBpbiBvcmRlciB0byBhdm9pZCBhbnlcclxuICAgICAgICAvLyBjb2xsaXNpb25zIGJldHdlZW4gb2JzZXJ2ZXJzLCBlLmcuIHdoZW4gbXVsdGlwbGUgaW5zdGFuY2VzIG9mXHJcbiAgICAgICAgLy8gUmVzaXplT2JzZXJ2ZXIgYXJlIHRyYWNraW5nIHRoZSBzYW1lIGVsZW1lbnQgYW5kIHRoZSBjYWxsYmFjayBvZiBvbmVcclxuICAgICAgICAvLyBvZiB0aGVtIGNoYW5nZXMgY29udGVudCBkaW1lbnNpb25zIG9mIHRoZSBvYnNlcnZlZCB0YXJnZXQuIFNvbWV0aW1lc1xyXG4gICAgICAgIC8vIHRoaXMgbWF5IHJlc3VsdCBpbiBub3RpZmljYXRpb25zIGJlaW5nIGJsb2NrZWQgZm9yIHRoZSByZXN0IG9mIG9ic2VydmVycy5cclxuICAgICAgICBhY3RpdmVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHsgcmV0dXJuIG9ic2VydmVyLmJyb2FkY2FzdEFjdGl2ZSgpOyB9KTtcclxuICAgICAgICByZXR1cm4gYWN0aXZlT2JzZXJ2ZXJzLmxlbmd0aCA+IDA7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyBET00gbGlzdGVuZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5jb25uZWN0XyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHJ1bm5pbmcgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCBvciBpZiBsaXN0ZW5lcnNcclxuICAgICAgICAvLyBoYXZlIGJlZW4gYWxyZWFkeSBhZGRlZC5cclxuICAgICAgICBpZiAoIWlzQnJvd3NlciB8fCB0aGlzLmNvbm5lY3RlZF8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTdWJzY3JpcHRpb24gdG8gdGhlIFwiVHJhbnNpdGlvbmVuZFwiIGV2ZW50IGlzIHVzZWQgYXMgYSB3b3JrYXJvdW5kIGZvclxyXG4gICAgICAgIC8vIGRlbGF5ZWQgdHJhbnNpdGlvbnMuIFRoaXMgd2F5IGl0J3MgcG9zc2libGUgdG8gY2FwdHVyZSBhdCBsZWFzdCB0aGVcclxuICAgICAgICAvLyBmaW5hbCBzdGF0ZSBvZiBhbiBlbGVtZW50LlxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZF8pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZnJlc2gpO1xyXG4gICAgICAgIGlmIChtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5yZWZyZXNoKTtcclxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8ub2JzZXJ2ZShkb2N1bWVudCwge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgdGhpcy5yZWZyZXNoKTtcclxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkXyA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIERPTSBsaXN0ZW5lcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRpc2Nvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xyXG4gICAgICAgIC8vIGhhdmUgYmVlbiBhbHJlYWR5IHJlbW92ZWQuXHJcbiAgICAgICAgaWYgKCFpc0Jyb3dzZXIgfHwgIXRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZF8pO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZnJlc2gpO1xyXG4gICAgICAgIGlmICh0aGlzLm11dGF0aW9uc09ic2VydmVyXykge1xyXG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfID0gbnVsbDtcclxuICAgICAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRfID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBoYW5kbGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1RyYW5zaXRpb25FdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZF8gPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgX2IgPSBfYS5wcm9wZXJ0eU5hbWUsIHByb3BlcnR5TmFtZSA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iO1xyXG4gICAgICAgIC8vIERldGVjdCB3aGV0aGVyIHRyYW5zaXRpb24gbWF5IGFmZmVjdCBkaW1lbnNpb25zIG9mIGFuIGVsZW1lbnQuXHJcbiAgICAgICAgdmFyIGlzUmVmbG93UHJvcGVydHkgPSB0cmFuc2l0aW9uS2V5cy5zb21lKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhfnByb3BlcnR5TmFtZS5pbmRleE9mKGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGlzUmVmbG93UHJvcGVydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBpbnN0YW5jZSBvZiB0aGUgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VfKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VfID0gbmV3IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZV87XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyByZWZlcmVuY2UgdG8gdGhlIGNvbnRyb2xsZXIncyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZSB7UmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuaW5zdGFuY2VfID0gbnVsbDtcclxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXI7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBEZWZpbmVzIG5vbi13cml0YWJsZS9lbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgdGhlIHByb3ZpZGVkIHRhcmdldCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBPYmplY3QgZm9yIHdoaWNoIHRvIGRlZmluZSBwcm9wZXJ0aWVzLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBQcm9wZXJ0aWVzIHRvIGJlIGRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRhcmdldCBvYmplY3QuXHJcbiAqL1xyXG52YXIgZGVmaW5lQ29uZmlndXJhYmxlID0gKGZ1bmN0aW9uICh0YXJnZXQsIHByb3BzKSB7XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMocHJvcHMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBrZXkgPSBfYVtfaV07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wc1trZXldLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn0pO1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgZ2xvYmFsIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcHJvdmlkZWQgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cclxudmFyIGdldFdpbmRvd09mID0gKGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgIC8vIEFzc3VtZSB0aGF0IHRoZSBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mIE5vZGUsIHdoaWNoIG1lYW5zIHRoYXQgaXRcclxuICAgIC8vIGhhcyB0aGUgXCJvd25lckRvY3VtZW50XCIgcHJvcGVydHkgZnJvbSB3aGljaCB3ZSBjYW4gcmV0cmlldmUgYVxyXG4gICAgLy8gY29ycmVzcG9uZGluZyBnbG9iYWwgb2JqZWN0LlxyXG4gICAgdmFyIG93bmVyR2xvYmFsID0gdGFyZ2V0ICYmIHRhcmdldC5vd25lckRvY3VtZW50ICYmIHRhcmdldC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xyXG4gICAgLy8gUmV0dXJuIHRoZSBsb2NhbCBnbG9iYWwgb2JqZWN0IGlmIGl0J3Mgbm90IHBvc3NpYmxlIGV4dHJhY3Qgb25lIGZyb21cclxuICAgIC8vIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAgICByZXR1cm4gb3duZXJHbG9iYWwgfHwgZ2xvYmFsJDE7XHJcbn0pO1xuXG4vLyBQbGFjZWhvbGRlciBvZiBhbiBlbXB0eSBjb250ZW50IHJlY3RhbmdsZS5cclxudmFyIGVtcHR5UmVjdCA9IGNyZWF0ZVJlY3RJbml0KDAsIDAsIDAsIDApO1xyXG4vKipcclxuICogQ29udmVydHMgcHJvdmlkZWQgc3RyaW5nIHRvIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcclxufVxyXG4vKipcclxuICogRXh0cmFjdHMgYm9yZGVycyBzaXplIGZyb20gcHJvdmlkZWQgc3R5bGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gKiBAcGFyYW0gey4uLnN0cmluZ30gcG9zaXRpb25zIC0gQm9yZGVycyBwb3NpdGlvbnMgKHRvcCwgcmlnaHQsIC4uLilcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIGdldEJvcmRlcnNTaXplKHN0eWxlcykge1xyXG4gICAgdmFyIHBvc2l0aW9ucyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBwb3NpdGlvbnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9zaXRpb25zLnJlZHVjZShmdW5jdGlvbiAoc2l6ZSwgcG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNbJ2JvcmRlci0nICsgcG9zaXRpb24gKyAnLXdpZHRoJ107XHJcbiAgICAgICAgcmV0dXJuIHNpemUgKyB0b0Zsb2F0KHZhbHVlKTtcclxuICAgIH0sIDApO1xyXG59XHJcbi8qKlxyXG4gKiBFeHRyYWN0cyBwYWRkaW5ncyBzaXplcyBmcm9tIHByb3ZpZGVkIHN0eWxlcy5cclxuICpcclxuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcclxuICogQHJldHVybnMge09iamVjdH0gUGFkZGluZ3MgYm94LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UGFkZGluZ3Moc3R5bGVzKSB7XHJcbiAgICB2YXIgcG9zaXRpb25zID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcclxuICAgIHZhciBwYWRkaW5ncyA9IHt9O1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBwb3NpdGlvbnNfMSA9IHBvc2l0aW9uczsgX2kgPCBwb3NpdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSBwb3NpdGlvbnNfMVtfaV07XHJcbiAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVzWydwYWRkaW5nLScgKyBwb3NpdGlvbl07XHJcbiAgICAgICAgcGFkZGluZ3NbcG9zaXRpb25dID0gdG9GbG9hdCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFkZGluZ3M7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgY29udGVudCByZWN0YW5nbGUgb2YgcHJvdmlkZWQgU1ZHIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzXHJcbiAqICAgICAgdG8gYmUgY2FsY3VsYXRlZC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0U1ZHQ29udGVudFJlY3QodGFyZ2V0KSB7XHJcbiAgICB2YXIgYmJveCA9IHRhcmdldC5nZXRCQm94KCk7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVjdEluaXQoMCwgMCwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIEhUTUxFbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGZvciB3aGljaCB0byBjYWxjdWxhdGUgdGhlIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRIVE1MRWxlbWVudENvbnRlbnRSZWN0KHRhcmdldCkge1xyXG4gICAgLy8gQ2xpZW50IHdpZHRoICYgaGVpZ2h0IHByb3BlcnRpZXMgY2FuJ3QgYmVcclxuICAgIC8vIHVzZWQgZXhjbHVzaXZlbHkgYXMgdGhleSBwcm92aWRlIHJvdW5kZWQgdmFsdWVzLlxyXG4gICAgdmFyIGNsaWVudFdpZHRoID0gdGFyZ2V0LmNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgPSB0YXJnZXQuY2xpZW50SGVpZ2h0O1xyXG4gICAgLy8gQnkgdGhpcyBjb25kaXRpb24gd2UgY2FuIGNhdGNoIGFsbCBub24tcmVwbGFjZWQgaW5saW5lLCBoaWRkZW4gYW5kXHJcbiAgICAvLyBkZXRhY2hlZCBlbGVtZW50cy4gVGhvdWdoIGVsZW1lbnRzIHdpdGggd2lkdGggJiBoZWlnaHQgcHJvcGVydGllcyBsZXNzXHJcbiAgICAvLyB0aGFuIDAuNSB3aWxsIGJlIGRpc2NhcmRlZCBhcyB3ZWxsLlxyXG4gICAgLy9cclxuICAgIC8vIFdpdGhvdXQgaXQgd2Ugd291bGQgbmVlZCB0byBpbXBsZW1lbnQgc2VwYXJhdGUgbWV0aG9kcyBmb3IgZWFjaCBvZlxyXG4gICAgLy8gdGhvc2UgY2FzZXMgYW5kIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHBlcmZvcm0gYSBwcmVjaXNlIGFuZCBwZXJmb3JtYW5jZVxyXG4gICAgLy8gZWZmZWN0aXZlIHRlc3QgZm9yIGhpZGRlbiBlbGVtZW50cy4gRS5nLiBldmVuIGpRdWVyeSdzICc6dmlzaWJsZScgZmlsdGVyXHJcbiAgICAvLyBnaXZlcyB3cm9uZyByZXN1bHRzIGZvciBlbGVtZW50cyB3aXRoIHdpZHRoICYgaGVpZ2h0IGxlc3MgdGhhbiAwLjUuXHJcbiAgICBpZiAoIWNsaWVudFdpZHRoICYmICFjbGllbnRIZWlnaHQpIHtcclxuICAgICAgICByZXR1cm4gZW1wdHlSZWN0O1xyXG4gICAgfVxyXG4gICAgdmFyIHN0eWxlcyA9IGdldFdpbmRvd09mKHRhcmdldCkuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xyXG4gICAgdmFyIHBhZGRpbmdzID0gZ2V0UGFkZGluZ3Moc3R5bGVzKTtcclxuICAgIHZhciBob3JpelBhZCA9IHBhZGRpbmdzLmxlZnQgKyBwYWRkaW5ncy5yaWdodDtcclxuICAgIHZhciB2ZXJ0UGFkID0gcGFkZGluZ3MudG9wICsgcGFkZGluZ3MuYm90dG9tO1xyXG4gICAgLy8gQ29tcHV0ZWQgc3R5bGVzIG9mIHdpZHRoICYgaGVpZ2h0IGFyZSBiZWluZyB1c2VkIGJlY2F1c2UgdGhleSBhcmUgdGhlXHJcbiAgICAvLyBvbmx5IGRpbWVuc2lvbnMgYXZhaWxhYmxlIHRvIEpTIHRoYXQgY29udGFpbiBub24tcm91bmRlZCB2YWx1ZXMuIEl0IGNvdWxkXHJcbiAgICAvLyBiZSBwb3NzaWJsZSB0byB1dGlsaXplIHRoZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaWYgb25seSBpdCdzIGRhdGEgd2Fzbid0XHJcbiAgICAvLyBhZmZlY3RlZCBieSBDU1MgdHJhbnNmb3JtYXRpb25zIGxldCBhbG9uZSBwYWRkaW5ncywgYm9yZGVycyBhbmQgc2Nyb2xsIGJhcnMuXHJcbiAgICB2YXIgd2lkdGggPSB0b0Zsb2F0KHN0eWxlcy53aWR0aCksIGhlaWdodCA9IHRvRmxvYXQoc3R5bGVzLmhlaWdodCk7XHJcbiAgICAvLyBXaWR0aCAmIGhlaWdodCBpbmNsdWRlIHBhZGRpbmdzIGFuZCBib3JkZXJzIHdoZW4gdGhlICdib3JkZXItYm94JyBib3hcclxuICAgIC8vIG1vZGVsIGlzIGFwcGxpZWQgKGV4Y2VwdCBmb3IgSUUpLlxyXG4gICAgaWYgKHN0eWxlcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94Jykge1xyXG4gICAgICAgIC8vIEZvbGxvd2luZyBjb25kaXRpb25zIGFyZSByZXF1aXJlZCB0byBoYW5kbGUgSW50ZXJuZXQgRXhwbG9yZXIgd2hpY2hcclxuICAgICAgICAvLyBkb2Vzbid0IGluY2x1ZGUgcGFkZGluZ3MgYW5kIGJvcmRlcnMgdG8gY29tcHV0ZWQgQ1NTIGRpbWVuc2lvbnMuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBXZSBjYW4gc2F5IHRoYXQgaWYgQ1NTIGRpbWVuc2lvbnMgKyBwYWRkaW5ncyBhcmUgZXF1YWwgdG8gdGhlIFwiY2xpZW50XCJcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIHRoZW4gaXQncyBlaXRoZXIgSUUsIGFuZCB0aHVzIHdlIGRvbid0IG5lZWQgdG8gc3VidHJhY3RcclxuICAgICAgICAvLyBhbnl0aGluZywgb3IgYW4gZWxlbWVudCBtZXJlbHkgZG9lc24ndCBoYXZlIHBhZGRpbmdzL2JvcmRlcnMgc3R5bGVzLlxyXG4gICAgICAgIGlmIChNYXRoLnJvdW5kKHdpZHRoICsgaG9yaXpQYWQpICE9PSBjbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICdsZWZ0JywgJ3JpZ2h0JykgKyBob3JpelBhZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1hdGgucm91bmQoaGVpZ2h0ICsgdmVydFBhZCkgIT09IGNsaWVudEhlaWdodCkge1xyXG4gICAgICAgICAgICBoZWlnaHQgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAndG9wJywgJ2JvdHRvbScpICsgdmVydFBhZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBGb2xsb3dpbmcgc3RlcHMgY2FuJ3QgYmUgYXBwbGllZCB0byB0aGUgZG9jdW1lbnQncyByb290IGVsZW1lbnQgYXMgaXRzXHJcbiAgICAvLyBjbGllbnRbV2lkdGgvSGVpZ2h0XSBwcm9wZXJ0aWVzIHJlcHJlc2VudCB2aWV3cG9ydCBhcmVhIG9mIHRoZSB3aW5kb3cuXHJcbiAgICAvLyBCZXNpZGVzLCBpdCdzIGFzIHdlbGwgbm90IG5lY2Vzc2FyeSBhcyB0aGUgPGh0bWw+IGl0c2VsZiBuZWl0aGVyIGhhc1xyXG4gICAgLy8gcmVuZGVyZWQgc2Nyb2xsIGJhcnMgbm9yIGl0IGNhbiBiZSBjbGlwcGVkLlxyXG4gICAgaWYgKCFpc0RvY3VtZW50RWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgLy8gSW4gc29tZSBicm93c2VycyAob25seSBpbiBGaXJlZm94LCBhY3R1YWxseSkgQ1NTIHdpZHRoICYgaGVpZ2h0XHJcbiAgICAgICAgLy8gaW5jbHVkZSBzY3JvbGwgYmFycyBzaXplIHdoaWNoIGNhbiBiZSByZW1vdmVkIGF0IHRoaXMgc3RlcCBhcyBzY3JvbGxcclxuICAgICAgICAvLyBiYXJzIGFyZSB0aGUgb25seSBkaWZmZXJlbmNlIGJldHdlZW4gcm91bmRlZCBkaW1lbnNpb25zICsgcGFkZGluZ3NcclxuICAgICAgICAvLyBhbmQgXCJjbGllbnRcIiBwcm9wZXJ0aWVzLCB0aG91Z2ggdGhhdCBpcyBub3QgYWx3YXlzIHRydWUgaW4gQ2hyb21lLlxyXG4gICAgICAgIHZhciB2ZXJ0U2Nyb2xsYmFyID0gTWF0aC5yb3VuZCh3aWR0aCArIGhvcml6UGFkKSAtIGNsaWVudFdpZHRoO1xyXG4gICAgICAgIHZhciBob3JpelNjcm9sbGJhciA9IE1hdGgucm91bmQoaGVpZ2h0ICsgdmVydFBhZCkgLSBjbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgLy8gQ2hyb21lIGhhcyBhIHJhdGhlciB3ZWlyZCByb3VuZGluZyBvZiBcImNsaWVudFwiIHByb3BlcnRpZXMuXHJcbiAgICAgICAgLy8gRS5nLiBmb3IgYW4gZWxlbWVudCB3aXRoIGNvbnRlbnQgd2lkdGggb2YgMzE0LjJweCBpdCBzb21ldGltZXMgZ2l2ZXNcclxuICAgICAgICAvLyB0aGUgY2xpZW50IHdpZHRoIG9mIDMxNXB4IGFuZCBmb3IgdGhlIHdpZHRoIG9mIDMxNC43cHggaXQgbWF5IGdpdmVcclxuICAgICAgICAvLyAzMTRweC4gQW5kIGl0IGRvZXNuJ3QgaGFwcGVuIGFsbCB0aGUgdGltZS4gU28ganVzdCBpZ25vcmUgdGhpcyBkZWx0YVxyXG4gICAgICAgIC8vIGFzIGEgbm9uLXJlbGV2YW50LlxyXG4gICAgICAgIGlmIChNYXRoLmFicyh2ZXJ0U2Nyb2xsYmFyKSAhPT0gMSkge1xyXG4gICAgICAgICAgICB3aWR0aCAtPSB2ZXJ0U2Nyb2xsYmFyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoTWF0aC5hYnMoaG9yaXpTY3JvbGxiYXIpICE9PSAxKSB7XHJcbiAgICAgICAgICAgIGhlaWdodCAtPSBob3JpelNjcm9sbGJhcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlUmVjdEluaXQocGFkZGluZ3MubGVmdCwgcGFkZGluZ3MudG9wLCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZWxlbWVudCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgU1ZHR3JhcGhpY3NFbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgY2hlY2tlZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG52YXIgaXNTVkdHcmFwaGljc0VsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gU29tZSBicm93c2VycywgbmFtZWx5IElFIGFuZCBFZGdlLCBkb24ndCBoYXZlIHRoZSBTVkdHcmFwaGljc0VsZW1lbnRcclxuICAgIC8vIGludGVyZmFjZS5cclxuICAgIGlmICh0eXBlb2YgU1ZHR3JhcGhpY3NFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLlNWR0dyYXBoaWNzRWxlbWVudDsgfTtcclxuICAgIH1cclxuICAgIC8vIElmIGl0J3Mgc28sIHRoZW4gY2hlY2sgdGhhdCBlbGVtZW50IGlzIGF0IGxlYXN0IGFuIGluc3RhbmNlIG9mIHRoZVxyXG4gICAgLy8gU1ZHRWxlbWVudCBhbmQgdGhhdCBpdCBoYXMgdGhlIFwiZ2V0QkJveFwiIG1ldGhvZC5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiAodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5TVkdFbGVtZW50ICYmXHJcbiAgICAgICAgdHlwZW9mIHRhcmdldC5nZXRCQm94ID09PSAnZnVuY3Rpb24nKTsgfTtcclxufSkoKTtcclxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIHByb3ZpZGVkIGVsZW1lbnQgaXMgYSBkb2N1bWVudCBlbGVtZW50ICg8aHRtbD4pLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgY2hlY2tlZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RvY3VtZW50RWxlbWVudCh0YXJnZXQpIHtcclxuICAgIHJldHVybiB0YXJnZXQgPT09IGdldFdpbmRvd09mKHRhcmdldCkuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGFuIGFwcHJvcHJpYXRlIGNvbnRlbnQgcmVjdGFuZ2xlIGZvciBwcm92aWRlZCBodG1sIG9yIHN2ZyBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgY29udGVudCByZWN0YW5nbGUgb2Ygd2hpY2ggbmVlZHMgdG8gYmUgY2FsY3VsYXRlZC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q29udGVudFJlY3QodGFyZ2V0KSB7XHJcbiAgICBpZiAoIWlzQnJvd3Nlcikge1xyXG4gICAgICAgIHJldHVybiBlbXB0eVJlY3Q7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTVkdHcmFwaGljc0VsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICAgIHJldHVybiBnZXRTVkdDb250ZW50UmVjdCh0YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdldEhUTUxFbGVtZW50Q29udGVudFJlY3QodGFyZ2V0KTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyByZWN0YW5nbGUgd2l0aCBhbiBpbnRlcmZhY2Ugb2YgdGhlIERPTVJlY3RSZWFkT25seS5cclxuICogU3BlYzogaHR0cHM6Ly9kcmFmdHMuZnh0Zi5vcmcvZ2VvbWV0cnkvI2RvbXJlY3RyZWFkb25seVxyXG4gKlxyXG4gKiBAcGFyYW0ge0RPTVJlY3RJbml0fSByZWN0SW5pdCAtIE9iamVjdCB3aXRoIHJlY3RhbmdsZSdzIHgveSBjb29yZGluYXRlcyBhbmQgZGltZW5zaW9ucy5cclxuICogQHJldHVybnMge0RPTVJlY3RSZWFkT25seX1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWRPbmx5UmVjdChfYSkge1xyXG4gICAgdmFyIHggPSBfYS54LCB5ID0gX2EueSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xyXG4gICAgLy8gSWYgRE9NUmVjdFJlYWRPbmx5IGlzIGF2YWlsYWJsZSB1c2UgaXQgYXMgYSBwcm90b3R5cGUgZm9yIHRoZSByZWN0YW5nbGUuXHJcbiAgICB2YXIgQ29uc3RyID0gdHlwZW9mIERPTVJlY3RSZWFkT25seSAhPT0gJ3VuZGVmaW5lZCcgPyBET01SZWN0UmVhZE9ubHkgOiBPYmplY3Q7XHJcbiAgICB2YXIgcmVjdCA9IE9iamVjdC5jcmVhdGUoQ29uc3RyLnByb3RvdHlwZSk7XHJcbiAgICAvLyBSZWN0YW5nbGUncyBwcm9wZXJ0aWVzIGFyZSBub3Qgd3JpdGFibGUgYW5kIG5vbi1lbnVtZXJhYmxlLlxyXG4gICAgZGVmaW5lQ29uZmlndXJhYmxlKHJlY3QsIHtcclxuICAgICAgICB4OiB4LCB5OiB5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgIHRvcDogeSxcclxuICAgICAgICByaWdodDogeCArIHdpZHRoLFxyXG4gICAgICAgIGJvdHRvbTogaGVpZ2h0ICsgeSxcclxuICAgICAgICBsZWZ0OiB4XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZWN0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIERPTVJlY3RJbml0IG9iamVjdCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZGltZW5zaW9ucyBhbmQgdGhlIHgveSBjb29yZGluYXRlcy5cclxuICogU3BlYzogaHR0cHM6Ly9kcmFmdHMuZnh0Zi5vcmcvZ2VvbWV0cnkvI2RpY3RkZWYtZG9tcmVjdGluaXRcclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYIGNvb3JkaW5hdGUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gWSBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBSZWN0YW5nbGUncyB3aWR0aC5cclxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFJlY3RhbmdsZSdzIGhlaWdodC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVjdEluaXQoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xyXG59XG5cbi8qKlxyXG4gKiBDbGFzcyB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBjb21wdXRhdGlvbnMgb2YgdGhlIGNvbnRlbnQgcmVjdGFuZ2xlIG9mXHJcbiAqIHByb3ZpZGVkIERPTSBlbGVtZW50IGFuZCBmb3Iga2VlcGluZyB0cmFjayBvZiBpdCdzIGNoYW5nZXMuXHJcbiAqL1xyXG52YXIgUmVzaXplT2JzZXJ2YXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIG9ic2VydmVkLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCcm9hZGNhc3RlZCB3aWR0aCBvZiBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3RXaWR0aCA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQnJvYWRjYXN0ZWQgaGVpZ2h0IG9mIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmJyb2FkY2FzdEhlaWdodCA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBsYXN0IG9ic2VydmVkIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge0RPTVJlY3RJbml0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY29udGVudFJlY3RfID0gY3JlYXRlUmVjdEluaXQoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgY29udGVudCByZWN0YW5nbGUgYW5kIHRlbGxzIHdoZXRoZXIgaXQncyB3aWR0aCBvciBoZWlnaHQgcHJvcGVydGllc1xyXG4gICAgICogaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGJyb2FkY2FzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gZ2V0Q29udGVudFJlY3QodGhpcy50YXJnZXQpO1xyXG4gICAgICAgIHRoaXMuY29udGVudFJlY3RfID0gcmVjdDtcclxuICAgICAgICByZXR1cm4gKHJlY3Qud2lkdGggIT09IHRoaXMuYnJvYWRjYXN0V2lkdGggfHxcclxuICAgICAgICAgICAgcmVjdC5oZWlnaHQgIT09IHRoaXMuYnJvYWRjYXN0SGVpZ2h0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgJ2Jyb2FkY2FzdFdpZHRoJyBhbmQgJ2Jyb2FkY2FzdEhlaWdodCcgcHJvcGVydGllcyB3aXRoIGEgZGF0YVxyXG4gICAgICogZnJvbSB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0aWVzIG9mIHRoZSBsYXN0IG9ic2VydmVkIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtET01SZWN0SW5pdH0gTGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmJyb2FkY2FzdFJlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmNvbnRlbnRSZWN0XztcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdFdpZHRoID0gcmVjdC53aWR0aDtcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdEhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcclxufSgpKTtcblxudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2ZXJFbnRyeS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdGhhdCBpcyBiZWluZyBvYnNlcnZlZC5cclxuICAgICAqIEBwYXJhbSB7RE9NUmVjdEluaXR9IHJlY3RJbml0IC0gRGF0YSBvZiB0aGUgZWxlbWVudCdzIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCwgcmVjdEluaXQpIHtcclxuICAgICAgICB2YXIgY29udGVudFJlY3QgPSBjcmVhdGVSZWFkT25seVJlY3QocmVjdEluaXQpO1xyXG4gICAgICAgIC8vIEFjY29yZGluZyB0byB0aGUgc3BlY2lmaWNhdGlvbiBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgbm90IHdyaXRhYmxlXHJcbiAgICAgICAgLy8gYW5kIGFyZSBhbHNvIG5vdCBlbnVtZXJhYmxlIGluIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24uXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBQcm9wZXJ0eSBhY2Nlc3NvcnMgYXJlIG5vdCBiZWluZyB1c2VkIGFzIHRoZXknZCByZXF1aXJlIHRvIGRlZmluZSBhXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBXZWFrTWFwIHN0b3JhZ2Ugd2hpY2ggbWF5IGNhdXNlIG1lbW9yeSBsZWFrcyBpbiBicm93c2VycyB0aGF0XHJcbiAgICAgICAgLy8gZG9uJ3Qgc3VwcG9ydCB0aGlzIHR5cGUgb2YgY29sbGVjdGlvbnMuXHJcbiAgICAgICAgZGVmaW5lQ29uZmlndXJhYmxlKHRoaXMsIHsgdGFyZ2V0OiB0YXJnZXQsIGNvbnRlbnRSZWN0OiBjb250ZW50UmVjdCB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xyXG59KCkpO1xuXG52YXIgUmVzaXplT2JzZXJ2ZXJTUEkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlckNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgaW52b2tlZFxyXG4gICAgICogICAgICB3aGVuIG9uZSBvZiB0aGUgb2JzZXJ2ZWQgZWxlbWVudHMgY2hhbmdlcyBpdCdzIGNvbnRlbnQgZGltZW5zaW9ucy5cclxuICAgICAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyfSBjb250cm9sbGVyIC0gQ29udHJvbGxlciBpbnN0YW5jZSB3aGljaFxyXG4gICAgICogICAgICBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHVwZGF0ZXMgb2Ygb2JzZXJ2ZXIuXHJcbiAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyfSBjYWxsYmFja0N0eCAtIFJlZmVyZW5jZSB0byB0aGUgcHVibGljXHJcbiAgICAgKiAgICAgIFJlc2l6ZU9ic2VydmVyIGluc3RhbmNlIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIGNhbGxiYWNrIGZ1bmN0aW9uLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlclNQSShjYWxsYmFjaywgY29udHJvbGxlciwgY2FsbGJhY2tDdHgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHJlc2l6ZSBvYnNlcnZhdGlvbnMgdGhhdCBoYXZlIGRldGVjdGVkIGNoYW5nZXMgaW4gZGltZW5zaW9uc1xyXG4gICAgICAgICAqIG9mIGVsZW1lbnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge0FycmF5PFJlc2l6ZU9ic2VydmF0aW9uPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWdpc3RyeSBvZiB0aGUgUmVzaXplT2JzZXJ2YXRpb24gaW5zdGFuY2VzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge01hcDxFbGVtZW50LCBSZXNpemVPYnNlcnZhdGlvbj59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vYnNlcnZhdGlvbnNfID0gbmV3IE1hcFNoaW0oKTtcclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja18gPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJfID0gY29udHJvbGxlcjtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrQ3R4XyA9IGNhbGxiYWNrQ3R4O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgb2JzZXJ2aW5nIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIG9ic2VydmVkLlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgY3VycmVudCBlbnZpcm9ubWVudCBkb2Vzbid0IGhhdmUgdGhlIEVsZW1lbnQgaW50ZXJmYWNlLlxyXG4gICAgICAgIGlmICh0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIShFbGVtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYnNlcnZhdGlvbnMgPSB0aGlzLm9ic2VydmF0aW9uc187XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgb2JzZXJ2ZWQuXHJcbiAgICAgICAgaWYgKG9ic2VydmF0aW9ucy5oYXModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9ic2VydmF0aW9ucy5zZXQodGFyZ2V0LCBuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0KSk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyXy5hZGRPYnNlcnZlcih0aGlzKTtcclxuICAgICAgICAvLyBGb3JjZSB0aGUgdXBkYXRlIG9mIG9ic2VydmF0aW9ucy5cclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLnJlZnJlc2goKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIG9ic2VydmluZyBwcm92aWRlZCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBzdG9wIG9ic2VydmluZy5cclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgY3VycmVudCBlbnZpcm9ubWVudCBkb2Vzbid0IGhhdmUgdGhlIEVsZW1lbnQgaW50ZXJmYWNlLlxyXG4gICAgICAgIGlmICh0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIShFbGVtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYnNlcnZhdGlvbnMgPSB0aGlzLm9ic2VydmF0aW9uc187XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIG5vdCBiZWluZyBvYnNlcnZlZC5cclxuICAgICAgICBpZiAoIW9ic2VydmF0aW9ucy5oYXModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9ic2VydmF0aW9ucy5kZWxldGUodGFyZ2V0KTtcclxuICAgICAgICBpZiAoIW9ic2VydmF0aW9ucy5zaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcl8ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgb2JzZXJ2aW5nIGFsbCBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb25zXy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlcl8ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xsZWN0cyBvYnNlcnZhdGlvbiBpbnN0YW5jZXMgdGhlIGFzc29jaWF0ZWQgZWxlbWVudCBvZiB3aGljaCBoYXMgY2hhbmdlZFxyXG4gICAgICogaXQncyBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmdhdGhlckFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcclxuICAgICAgICB0aGlzLm9ic2VydmF0aW9uc18uZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2YXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKG9ic2VydmF0aW9uLmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ucHVzaChvYnNlcnZhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZXMgaW5pdGlhbCBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGEgbGlzdCBvZiBSZXNpemVPYnNlcnZlckVudHJ5XHJcbiAgICAgKiBpbnN0YW5jZXMgY29sbGVjdGVkIGZyb20gYWN0aXZlIHJlc2l6ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5icm9hZGNhc3RBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBvYnNlcnZlciBkb2Vzbid0IGhhdmUgYWN0aXZlIG9ic2VydmF0aW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3R4ID0gdGhpcy5jYWxsYmFja0N0eF87XHJcbiAgICAgICAgLy8gQ3JlYXRlIFJlc2l6ZU9ic2VydmVyRW50cnkgaW5zdGFuY2UgZm9yIGV2ZXJ5IGFjdGl2ZSBvYnNlcnZhdGlvbi5cclxuICAgICAgICB2YXIgZW50cmllcyA9IHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5tYXAoZnVuY3Rpb24gKG9ic2VydmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXJFbnRyeShvYnNlcnZhdGlvbi50YXJnZXQsIG9ic2VydmF0aW9uLmJyb2FkY2FzdFJlY3QoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja18uY2FsbChjdHgsIGVudHJpZXMsIGN0eCk7XHJcbiAgICAgICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5jbGVhckFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18uc3BsaWNlKDApO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGVsbHMgd2hldGhlciBvYnNlcnZlciBoYXMgYWN0aXZlIG9ic2VydmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmhhc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLmxlbmd0aCA+IDA7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU1BJO1xyXG59KCkpO1xuXG4vLyBSZWdpc3RyeSBvZiBpbnRlcm5hbCBvYnNlcnZlcnMuIElmIFdlYWtNYXAgaXMgbm90IGF2YWlsYWJsZSB1c2UgY3VycmVudCBzaGltXHJcbi8vIGZvciB0aGUgTWFwIGNvbGxlY3Rpb24gYXMgaXQgaGFzIGFsbCByZXF1aXJlZCBtZXRob2RzIGFuZCBiZWNhdXNlIFdlYWtNYXBcclxuLy8gY2FuJ3QgYmUgZnVsbHkgcG9seWZpbGxlZCBhbnl3YXkuXHJcbnZhciBvYnNlcnZlcnMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgV2Vha01hcCgpIDogbmV3IE1hcFNoaW0oKTtcclxuLyoqXHJcbiAqIFJlc2l6ZU9ic2VydmVyIEFQSS4gRW5jYXBzdWxhdGVzIHRoZSBSZXNpemVPYnNlcnZlciBTUEkgaW1wbGVtZW50YXRpb25cclxuICogZXhwb3Npbmcgb25seSB0aG9zZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGRlZmluZWQgaW4gdGhlIHNwZWMuXHJcbiAqL1xyXG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlckNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgaW52b2tlZCB3aGVuXHJcbiAgICAgKiAgICAgIGRpbWVuc2lvbnMgb2YgdGhlIG9ic2VydmVkIGVsZW1lbnRzIGNoYW5nZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzaXplT2JzZXJ2ZXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXJTUEkoY2FsbGJhY2ssIGNvbnRyb2xsZXIsIHRoaXMpO1xyXG4gICAgICAgIG9ic2VydmVycy5zZXQodGhpcywgb2JzZXJ2ZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xyXG59KCkpO1xyXG4vLyBFeHBvc2UgcHVibGljIG1ldGhvZHMgb2YgUmVzaXplT2JzZXJ2ZXIuXHJcbltcclxuICAgICdvYnNlcnZlJyxcclxuICAgICd1bm9ic2VydmUnLFxyXG4gICAgJ2Rpc2Nvbm5lY3QnXHJcbl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XHJcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIChfYSA9IG9ic2VydmVycy5nZXQodGhpcykpW21ldGhvZF0uYXBwbHkoX2EsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG59KTtcblxudmFyIGluZGV4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIEV4cG9ydCBleGlzdGluZyBpbXBsZW1lbnRhdGlvbiBpZiBhdmFpbGFibGUuXHJcbiAgICBpZiAodHlwZW9mIGdsb2JhbCQxLlJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWwkMS5SZXNpemVPYnNlcnZlcjtcclxuICAgIH1cclxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcclxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYnVsa3M6IHtcbiAgICAgICAgZGVsZXRlQ2F0ZWdvcmllczogJy5qcy1kZWxldGUtY2F0ZWdvcmllcy1idWxrLWFjdGlvbicsXG4gICAgICAgIGRlbGV0ZUNhdGVnb3JpZXNNb2RhbDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIi5jb25jYXQoaWQsIFwiX2dyaWRfZGVsZXRlX2NhdGVnb3JpZXNfbW9kYWxcIik7IH0sXG4gICAgICAgIGNoZWNrZWRDaGVja2JveDogJy5qcy1idWxrLWFjdGlvbi1jaGVja2JveDpjaGVja2VkJyxcbiAgICAgICAgZGVsZXRlQ3VzdG9tZXJzOiAnLmpzLWRlbGV0ZS1jdXN0b21lcnMtYnVsay1hY3Rpb24nLFxuICAgICAgICBkZWxldGVDdXN0b21lck1vZGFsOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiLmNvbmNhdChpZCwgXCJfZ3JpZF9kZWxldGVfY3VzdG9tZXJzX21vZGFsXCIpOyB9LFxuICAgICAgICBzdWJtaXREZWxldGVDYXRlZ29yaWVzOiAnLmpzLXN1Ym1pdC1kZWxldGUtY2F0ZWdvcmllcycsXG4gICAgICAgIHN1Ym1pdERlbGV0ZUN1c3RvbWVyczogJy5qcy1zdWJtaXQtZGVsZXRlLWN1c3RvbWVycycsXG4gICAgICAgIGNhdGVnb3JpZXNUb0RlbGV0ZTogJyNkZWxldGVfY2F0ZWdvcmllc19jYXRlZ29yaWVzX3RvX2RlbGV0ZScsXG4gICAgICAgIGN1c3RvbWVyc1RvRGVsZXRlOiAnI2RlbGV0ZV9jdXN0b21lcnNfY3VzdG9tZXJzX3RvX2RlbGV0ZScsXG4gICAgICAgIGFjdGlvblNlbGVjdEFsbDogJy5qcy1idWxrLWFjdGlvbi1zZWxlY3QtYWxsJyxcbiAgICAgICAgYnVsa0FjdGlvbkNoZWNrYm94OiAnLmpzLWJ1bGstYWN0aW9uLWNoZWNrYm94JyxcbiAgICAgICAgYnVsa0FjdGlvbkJ0bjogJy5qcy1idWxrLWFjdGlvbnMtYnRuJyxcbiAgICAgICAgb3BlblRhYnNCdG46ICcuanMtYnVsay1hY3Rpb24tYnRuLm9wZW5fdGFicycsXG4gICAgICAgIHRhYmxlQ2hvaWNlT3B0aW9uczogJ3RhYmxlLnRhYmxlIC5qcy1jaG9pY2Utb3B0aW9ucycsXG4gICAgICAgIGNob2ljZU9wdGlvbnM6ICcuanMtY2hvaWNlLW9wdGlvbnMnLFxuICAgICAgICBtb2RhbEZvcm1TdWJtaXRCdG46ICcuanMtYnVsay1tb2RhbC1mb3JtLXN1Ym1pdC1idG4nLFxuICAgICAgICBzdWJtaXRBY3Rpb246ICcuanMtYnVsay1hY3Rpb24tc3VibWl0LWJ0bicsXG4gICAgICAgIGFqYXhBY3Rpb246ICcuanMtYnVsay1hY3Rpb24tYWpheC1idG4nLFxuICAgICAgICBncmlkU3VibWl0QWN0aW9uOiAnLmpzLWdyaWQtYWN0aW9uLXN1Ym1pdC1idG4nLFxuICAgIH0sXG4gICAgcm93czoge1xuICAgICAgICBjYXRlZ29yeURlbGV0ZUFjdGlvbjogJy5qcy1kZWxldGUtY2F0ZWdvcnktcm93LWFjdGlvbicsXG4gICAgICAgIGN1c3RvbWVyRGVsZXRlQWN0aW9uOiAnLmpzLWRlbGV0ZS1jdXN0b21lci1yb3ctYWN0aW9uJyxcbiAgICAgICAgbGlua1Jvd0FjdGlvbjogJy5qcy1saW5rLXJvdy1hY3Rpb24nLFxuICAgICAgICBsaW5rUm93QWN0aW9uQ2xpY2thYmxlRmlyc3Q6ICcuanMtbGluay1yb3ctYWN0aW9uW2RhdGEtY2xpY2thYmxlLXJvdz0xXTpmaXJzdCcsXG4gICAgICAgIGNsaWNrYWJsZVRkOiAndGQuY2xpY2thYmxlJyxcbiAgICB9LFxuICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc2hvd1F1ZXJ5OiAnLmpzLWNvbW1vbl9zaG93X3F1ZXJ5LWdyaWQtYWN0aW9uJyxcbiAgICAgICAgZXhwb3J0UXVlcnk6ICcuanMtY29tbW9uX2V4cG9ydF9zcWxfbWFuYWdlci1ncmlkLWFjdGlvbicsXG4gICAgICAgIHNob3dNb2RhbEZvcm06IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIjXCIuY29uY2F0KGlkLCBcIl9jb21tb25fc2hvd19xdWVyeV9tb2RhbF9mb3JtXCIpOyB9LFxuICAgICAgICBzaG93TW9kYWxHcmlkOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiLmNvbmNhdChpZCwgXCJfZ3JpZF9jb21tb25fc2hvd19xdWVyeV9tb2RhbFwiKTsgfSxcbiAgICAgICAgbW9kYWxGb3JtU3VibWl0QnRuOiAnLmpzLWJ1bGstbW9kYWwtZm9ybS1zdWJtaXQtYnRuJyxcbiAgICAgICAgc3VibWl0TW9kYWxGb3JtQnRuOiAnLmpzLXN1Ym1pdC1tb2RhbC1mb3JtLWJ0bicsXG4gICAgICAgIGJ1bGtJbnB1dHNCbG9jazogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIi5jb25jYXQoaWQpOyB9LFxuICAgICAgICB0b2tlbklucHV0OiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiaW5wdXRbbmFtZT1cXFwiXCIuY29uY2F0KGlkLCBcIltfdG9rZW5dXFxcIl1cIik7IH0sXG4gICAgICAgIGFqYXhCdWxrQWN0aW9uQ29uZmlybU1vZGFsOiBmdW5jdGlvbiAoaWQsIGJ1bGtBY3Rpb24pIHsgcmV0dXJuIFwiXCIuY29uY2F0KGlkLCBcIi1hamF4LVwiKS5jb25jYXQoYnVsa0FjdGlvbiwgXCItY29uZmlybS1tb2RhbFwiKTsgfSxcbiAgICAgICAgYWpheEJ1bGtBY3Rpb25Qcm9ncmVzc01vZGFsOiBmdW5jdGlvbiAoaWQsIGJ1bGtBY3Rpb24pIHsgcmV0dXJuIFwiXCIuY29uY2F0KGlkLCBcIi1hamF4LVwiKS5jb25jYXQoYnVsa0FjdGlvbiwgXCItcHJvZ3Jlc3MtbW9kYWxcIik7IH0sXG4gICAgfSxcbiAgICBwb3NpdGlvbjogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIi5qcy1cIi5jb25jYXQoaWQsIFwiLXBvc2l0aW9uOmZpcnN0XCIpOyB9LFxuICAgIGNvbmZpcm1Nb2RhbDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIlwiLmNvbmNhdChpZCwgXCItZ3JpZC1jb25maXJtLW1vZGFsXCIpOyB9LFxuICAgIGdyaWRUYWJsZTogJy5qcy1ncmlkLXRhYmxlJyxcbiAgICBkcmFnSGFuZGxlcjogJy5qcy1kcmFnLWhhbmRsZScsXG4gICAgZHJhZ0hhbmRsZXJDbGFzczogJ2pzLWRyYWctaGFuZGxlJyxcbiAgICBzcGVjaWZpY0dyaWRUYWJsZTogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIlwiLmNvbmNhdChpZCwgXCJfZ3JpZF90YWJsZVwiKTsgfSxcbiAgICBncmlkOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiLmNvbmNhdChpZCwgXCJfZ3JpZFwiKTsgfSxcbiAgICBncmlkUGFuZWw6ICcuanMtZ3JpZC1wYW5lbCcsXG4gICAgZ3JpZEhlYWRlcjogJy5qcy1ncmlkLWhlYWRlcicsXG4gICAgZ3JpZFBvc2l0aW9uOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiLmpzLVwiLmNvbmNhdChpZCwgXCItcG9zaXRpb25cIik7IH0sXG4gICAgZ3JpZFRhYmxlUG9zaXRpb246IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIuanMtZ3JpZC10YWJsZSAuanMtXCIuY29uY2F0KGlkLCBcIi1wb3NpdGlvblwiKTsgfSxcbiAgICBncmlkUG9zaXRpb25GaXJzdDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIi5qcy1cIi5jb25jYXQoaWQsIFwiLXBvc2l0aW9uOmZpcnN0XCIpOyB9LFxuICAgIHNlbGVjdFBvc2l0aW9uOiAnanMtcG9zaXRpb24nLFxuICAgIHRvZ2dsYWJsZVJvdzogJy5wcy10b2dnbGFibGUtcm93JyxcbiAgICBkcm9wZG93bkl0ZW06ICcuanMtZHJvcGRvd24taXRlbScsXG4gICAgdGFibGU6ICd0YWJsZS50YWJsZScsXG4gICAgaGVhZGVyVG9vbGJhcjogJy5oZWFkZXItdG9vbGJhcicsXG4gICAgYnJlYWRjcnVtYkl0ZW06ICcuYnJlYWRjcnVtYi1pdGVtJyxcbiAgICByZXNldFNlYXJjaDogJy5qcy1yZXNldC1zZWFyY2gnLFxuICAgIGV4cGFuZDogJy5qcy1leHBhbmQnLFxuICAgIGNvbGxhcHNlOiAnLmpzLWNvbGxhcHNlJyxcbiAgICBjb2x1bW5GaWx0ZXJzOiAnLmNvbHVtbi1maWx0ZXJzJyxcbiAgICBncmlkU2VhcmNoQnV0dG9uOiAnLmdyaWQtc2VhcmNoLWJ1dHRvbicsXG4gICAgZ3JpZFJlc2V0QnV0dG9uOiAnLmdyaWQtcmVzZXQtYnV0dG9uJyxcbiAgICBpbnB1dEFuZFNlbGVjdDogJ2lucHV0Om5vdCguanMtYnVsay1hY3Rpb24tc2VsZWN0LWFsbCksIHNlbGVjdCcsXG4gICAgcHJldmlld1RvZ2dsZTogJy5wcmV2aWV3LXRvZ2dsZScsXG4gICAgcHJldmlld1JvdzogJy5wcmV2aWV3LXJvdycsXG4gICAgZ3JpZFRib2R5OiAnLmdyaWQtdGFibGUgdGJvZHknLFxuICAgIHRyTm90UHJldmlld1JvdzogJ3RyOm5vdCgucHJldmlldy1yb3cpJyxcbiAgICBjb21tb25SZWZyZXNoTGlzdEFjdGlvbjogJy5qcy1jb21tb25fcmVmcmVzaF9saXN0LWdyaWQtYWN0aW9uJyxcbiAgICBmaWx0ZXJGb3JtOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiLmNvbmNhdChpZCwgXCJfZmlsdGVyX2Zvcm1cIik7IH0sXG4gICAgb25EcmFnQ2xhc3M6ICdwb3NpdGlvbi1yb3ctd2hpbGUtZHJhZycsXG4gICAgc3FsU3VibWl0OiAnLmJ0bi1zcWwtc3VibWl0Jyxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbnZhciAkID0gd2luZG93LiQ7XG4vKipcbiAqIENsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciBoYW5kbGluZyBHcmlkIGV2ZW50c1xuICovXG52YXIgR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBHcmlkIGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmlkKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJChHcmlkTWFwLmdyaWQodGhpcy5pZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZ3JpZCBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5nZXRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZ3JpZCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtqUXVlcnl9XG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGdyaWQgaGVhZGVyIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHJldHVybnMge2pRdWVyeX1cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5nZXRIZWFkZXJDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjb250YWluZXIuY2xvc2VzdChHcmlkTWFwLmdyaWRQYW5lbCkuZmluZChHcmlkTWFwLmdyaWRIZWFkZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWQgd2l0aCBleHRlcm5hbCBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXh0ZW5zaW9uXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuYWRkRXh0ZW5zaW9uID0gZnVuY3Rpb24gKGV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb24uZXh0ZW5kKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIEdyaWQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgR3JpZDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbi8qKlxuICogQXNzZXJ0IHRoYXQgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBpbnB1dCBleGlzdCBpcyBhbiBIVE1MSW5wdXRFbGVtZW50IGFuZCBpZiBzbyByZXR1cm5zIGl0cyBjaGVja2VkIHN0YXR1c1xuICpcbiAqIEBwYXJhbSBpbnB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaGVja2VkKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBpbnB1dC5jaGVja2VkO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG5pbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJ0BQU1R5cGVzL3R5cGVndWFyZCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uIGhhbmRsZXMgbGluayByb3cgYWN0aW9uc1xuICovXG52YXIgTGlua1Jvd0FjdGlvbkV4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uKG9uQ2xpY2spIHtcbiAgICAgICAgaWYgKG9uQ2xpY2sgPT09IHZvaWQgMCkgeyBvbkNsaWNrID0gdW5kZWZpbmVkOyB9XG4gICAgICAgIHRoaXMub25DbGljayA9IG9uQ2xpY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB0aGlzLmluaXRSb3dMaW5rcyhncmlkKTtcbiAgICAgICAgdGhpcy5pbml0Q29uZmlybWFibGVBY3Rpb25zKGdyaWQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIExpbmtSb3dBY3Rpb25FeHRlbnNpb24ucHJvdG90eXBlLmluaXRDb25maXJtYWJsZUFjdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICBncmlkLmdldENvbnRhaW5lcigpLm9uKCdjbGljaycsIEdyaWRNYXAucm93cy5saW5rUm93QWN0aW9uLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBjb25maXJtTWVzc2FnZSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgnY29uZmlybS1tZXNzYWdlJyk7XG4gICAgICAgICAgICBpZiAoY29uZmlybU1lc3NhZ2UubGVuZ3RoICYmICF3aW5kb3cuY29uZmlybShjb25maXJtTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGNsaWNrIGV2ZW50IG9uIHJvd3MgdGhhdCBtYXRjaGVzIHRoZSBmaXJzdCBsaW5rIGFjdGlvbiAoaWYgcHJlc2VudClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIExpbmtSb3dBY3Rpb25FeHRlbnNpb24ucHJvdG90eXBlLmluaXRSb3dMaW5rcyA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIHZhciBvbkNsaWNrQ2FsbGJhY2sgPSB0aGlzLm9uQ2xpY2s7XG4gICAgICAgICQoJ3RyJywgZ3JpZC5nZXRDb250YWluZXIoKSkuZWFjaChmdW5jdGlvbiBpbml0RWFjaFJvdygpIHtcbiAgICAgICAgICAgIHZhciAkcGFyZW50Um93ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICQoR3JpZE1hcC5yb3dzLmxpbmtSb3dBY3Rpb25DbGlja2FibGVGaXJzdCwgJHBhcmVudFJvdykuZWFjaChmdW5jdGlvbiBwcm9wYWdhdGVGaXJzdExpbmtBY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRyb3dBY3Rpb24gPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciAkcGFyZW50Q2VsbCA9ICRyb3dBY3Rpb24uY2xvc2VzdCgndGQnKTtcbiAgICAgICAgICAgICAgICB2YXIgY2xpY2thYmxlQ2VsbHMgPSAkKEdyaWRNYXAucm93cy5jbGlja2FibGVUZCwgJHBhcmVudFJvdykubm90KCRwYXJlbnRDZWxsKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsaWNrYWJsZUNlbGxzLmFkZENsYXNzKCdjdXJzb3ItcG9pbnRlcicpLm1vdXNlZG93bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS5tb3VzZW1vdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykudW5iaW5kKCdtb3VzZW1vdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2xpY2thYmxlQ2VsbHMubW91c2V1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXNEcmFnZ2luZyA9IGlzRHJhZ2dpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnVuYmluZCgnbW91c2Vtb3ZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd2FzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtTWVzc2FnZSA9ICRyb3dBY3Rpb24uZGF0YSgnY29uZmlybS1tZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm1NZXNzYWdlLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICh3aW5kb3cuY29uZmlybShjb25maXJtTWVzc2FnZSkgJiYgJHJvd0FjdGlvbi5hdHRyKCdocmVmJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChvbkNsaWNrQ2FsbGJhY2spICYmICFpc1VuZGVmaW5lZCgkcm93QWN0aW9uLmdldCgwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja0NhbGxiYWNrKCRyb3dBY3Rpb24uZ2V0KDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSAkcm93QWN0aW9uLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IExpbmtSb3dBY3Rpb25FeHRlbnNpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbi8qIGVzbGludCBtYXgtY2xhc3Nlcy1wZXItZmlsZTogW1wiZXJyb3JcIiwgMl0gKi9cbmltcG9ydCB7IE1vZGFsQ29udGFpbmVyLCBNb2RhbCwgfSBmcm9tICdAY29tcG9uZW50cy9tb2RhbC9tb2RhbCc7XG5pbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJ0BQU1R5cGVzL3R5cGVndWFyZCc7XG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgdXNlZCB0byBidWlsZCB0aGUgbW9kYWwgRE9NIGVsZW1lbnRzLCBpdCBpcyBub3QgdXNhYmxlIGFzIGlzIGJlY2F1c2UgaXQgZG9lc24ndCBldmVuIGhhdmUgYSBzaG93XG4gKiBtZXRob2QgYW5kIHRoZSBlbGVtZW50cyBhcmUgY3JlYXRlZCBidXQgbm90IGFkZGVkIHRvIHRoZSBET00uIEl0IGp1c3QgY3JlYXRlcyBhIGJhc2ljIERPTSBzdHJ1Y3R1cmUgb2YgYVxuICogQm9vdHN0cmFwIG1vZGFsLCB0aHVzIGtlZXBpbmcgdGhlIGxvZ2ljIGNsYXNzIG9mIHRoZSBtb2RhbCBzZXBhcmF0ZWQuXG4gKlxuICogVGhpcyBjb250YWluZXIgaXMgYnVpbHQgb24gdGhlIGJhc2ljIE1vZGFsQ29udGFpbmVyIGFuZCBhZGRzIHNvbWUgY29uZmlybS9jYW5jZWwgYnV0dG9ucyBhbG9uZyB3aXRoIGEgbWVzc2FnZVxuICogaW4gdGhlIGJvZHksIGl0IGlzIG1vc3RseSB1c2VkIGFzIGEgUmljaCBjb25maXJtIGRpYWxvZyBib3guXG4gKi9cbnZhciBDb25maXJtTW9kYWxDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbmZpcm1Nb2RhbENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICAvKiBUaGlzIGNvbnN0cnVjdG9yIGlzIGltcG9ydGFudCB0byBmb3JjZSB0aGUgaW5wdXQgdHlwZSBidXQgRVNMaW50IGlzIG5vdCBoYXBweSBhYm91dCBpdCovXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdXNlbGVzcy1jb25zdHJ1Y3RvciAqL1xuICAgIGZ1bmN0aW9uIENvbmZpcm1Nb2RhbENvbnRhaW5lcihwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHBhcmFtcykgfHwgdGhpcztcbiAgICB9XG4gICAgQ29uZmlybU1vZGFsQ29udGFpbmVyLnByb3RvdHlwZS5idWlsZE1vZGFsQ29udGFpbmVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYnVpbGRNb2RhbENvbnRhaW5lci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgICAgIC8vIE1vZGFsIG1lc3NhZ2UgZWxlbWVudFxuICAgICAgICB0aGlzLm1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnY29uZmlybS1tZXNzYWdlJyk7XG4gICAgICAgIHRoaXMubWVzc2FnZS5pbm5lckhUTUwgPSBwYXJhbXMuY29uZmlybU1lc3NhZ2U7XG4gICAgICAgIC8vIE1vZGFsIGZvb3RlciBlbGVtZW50XG4gICAgICAgIHRoaXMuZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWZvb3RlcicpO1xuICAgICAgICAvLyBNb2RhbCBjbG9zZSBidXR0b24gZWxlbWVudFxuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bicsICdidG4tb3V0bGluZS1zZWNvbmRhcnknLCAnYnRuLWxnJyk7XG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24uZGF0YXNldC5kaXNtaXNzID0gJ21vZGFsJztcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSBwYXJhbXMuY2xvc2VCdXR0b25MYWJlbDtcbiAgICAgICAgLy8gTW9kYWwgY29uZmlybSBidXR0b24gZWxlbWVudFxuICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bicsIHBhcmFtcy5jb25maXJtQnV0dG9uQ2xhc3MsICdidG4tbGcnLCAnYnRuLWNvbmZpcm0tc3VibWl0Jyk7XG4gICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5kYXRhc2V0LmRpc21pc3MgPSAnbW9kYWwnO1xuICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24uaW5uZXJIVE1MID0gcGFyYW1zLmNvbmZpcm1CdXR0b25MYWJlbDtcbiAgICAgICAgLy8gQXBwZW5kaW5nIGVsZW1lbnQgdG8gdGhlIG1vZGFsXG4gICAgICAgIChfYSA9IHRoaXMuZm9vdGVyKS5hcHBlbmQuYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbdGhpcy5jbG9zZUJ1dHRvbl0sIHBhcmFtcy5jdXN0b21CdXR0b25zLCBmYWxzZSksIFt0aGlzLmNvbmZpcm1CdXR0b25dLCBmYWxzZSkpO1xuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMuZm9vdGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25maXJtTW9kYWxDb250YWluZXI7XG59KE1vZGFsQ29udGFpbmVyKSk7XG5leHBvcnQgeyBDb25maXJtTW9kYWxDb250YWluZXIgfTtcbi8qKlxuICogQ29uZmlybU1vZGFsIGNvbXBvbmVudFxuICpcbiAqIEBwYXJhbSB7SW5wdXRDb25maXJtTW9kYWxQYXJhbXN9IHBhcmFtc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlybUNhbGxiYWNrIEBkZXByZWNhdGVkIFlvdSBzaG91bGQgcmVseSBvbiB0aGUgY29uZmlybUNhbGxiYWNrIHBhcmFtXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYW5jZWxDYWxsYmFjayBAZGVwcmVjYXRlZCBZb3Ugc2hvdWxkIHJlbHkgb24gdGhlIGNsb3NlQ2FsbGJhY2sgcGFyYW1cbiAqL1xudmFyIENvbmZpcm1Nb2RhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29uZmlybU1vZGFsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbmZpcm1Nb2RhbChpbnB1dFBhcmFtcywgY29uZmlybUNhbGxiYWNrLCBjYW5jZWxDYWxsYmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjb25maXJtTW9kYWxDYWxsYmFjaztcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChpbnB1dFBhcmFtcy5jb25maXJtQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICBjb25maXJtTW9kYWxDYWxsYmFjayA9IGlucHV0UGFyYW1zLmNvbmZpcm1DYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXNVbmRlZmluZWQoY29uZmlybUNhbGxiYWNrKSkge1xuICAgICAgICAgICAgY29uZmlybU1vZGFsQ2FsbGJhY2sgPSBjb25maXJtQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBrZXB0IHRoZSBwYXJhbWV0ZXJzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGlzIGZvcmNlcyB1cyB0byBrZWVwIHRoZSBwYXJhbSBjb25maXJtQ2FsbGJhY2sgYXMgb3B0aW9uYWxcbiAgICAgICAgICAgIC8vIGJ1dCB3aGVuIHdlIHJlbW92ZSBkZXByZWNhdGlvbiBpdCB3aWxsIGJlY29tZSBtYW5kYXRvcnksIGEgY29uZmlybSBjYWxsYmFjayBzaG91bGQgYWx3YXlzIGJlIHNwZWNpZmllZFxuICAgICAgICAgICAgY29uZmlybU1vZGFsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gY29uZmlybSBjYWxsYmFjayBwcm92aWRlZCBmb3IgQ29uZmlybU1vZGFsIGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmFtcyA9IF9fYXNzaWduKHsgaWQ6ICdjb25maXJtLW1vZGFsJywgY29uZmlybU1lc3NhZ2U6ICdBcmUgeW91IHN1cmU/JywgY2xvc2VCdXR0b25MYWJlbDogJ0Nsb3NlJywgY29uZmlybUJ1dHRvbkxhYmVsOiAnQWNjZXB0JywgY29uZmlybUJ1dHRvbkNsYXNzOiAnYnRuLXByaW1hcnknLCBjdXN0b21CdXR0b25zOiBbXSwgY2xvc2FibGU6IGZhbHNlLCBtb2RhbFRpdGxlOiBpbnB1dFBhcmFtcy5jb25maXJtVGl0bGUsIGRpYWxvZ1N0eWxlOiB7fSwgY29uZmlybUNhbGxiYWNrOiBjb25maXJtTW9kYWxDYWxsYmFjaywgY2xvc2VDYWxsYmFjazogKF9hID0gaW5wdXRQYXJhbXMuY2xvc2VDYWxsYmFjaykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY2FuY2VsQ2FsbGJhY2sgfSwgaW5wdXRQYXJhbXMpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcGFyYW1zKSB8fCB0aGlzO1xuICAgIH1cbiAgICBDb25maXJtTW9kYWwucHJvdG90eXBlLmluaXRDb250YWluZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgQ29uZmlybU1vZGFsQ29udGFpbmVyKHBhcmFtcyk7XG4gICAgICAgIHRoaXMubW9kYWwuY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBhcmFtcy5jb25maXJtQ2FsbGJhY2spO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmluaXRDb250YWluZXIuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbmZpcm1Nb2RhbDtcbn0oTW9kYWwpKTtcbmV4cG9ydCB7IENvbmZpcm1Nb2RhbCB9O1xuZXhwb3J0IGRlZmF1bHQgQ29uZmlybU1vZGFsO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbi8qKlxuICogVGhpcyBjbGFzcyBpcyB1c2VkIHRvIGJ1aWxkIHRoZSBtb2RhbCBET00gZWxlbWVudHMsIGl0IGlzIG5vdCB1c2FibGUgYXMgaXMgYmVjYXVzZSBpdCBkb2Vzbid0IGV2ZW4gaGF2ZSBhIHNob3dcbiAqIG1ldGhvZCBhbmQgdGhlIGVsZW1lbnRzIGFyZSBjcmVhdGVkIGJ1dCBub3QgYWRkZWQgdG8gdGhlIERPTS4gSXQganVzdCBjcmVhdGVzIGEgYmFzaWMgRE9NIHN0cnVjdHVyZSBvZiBhXG4gKiBCb290c3RyYXAgbW9kYWwsIHRodXMga2VlcGluZyB0aGUgbG9naWMgY2xhc3Mgb2YgdGhlIG1vZGFsIHNlcGFyYXRlZC5cbiAqXG4gKiBUaGlzIGlzIHRoZSBtb3N0IGJhc2ljIG1vZGFsIGNvbnRhaW5lciAob25seSB0aGUgbW9kYWwgYW5kIGRpYWxvZyBib3gsIHdpdGggYSBjbG9zZSBpY29uXG4gKiBhbmQgYW4gb3B0aW9uYWwgdGl0bGUpLiBObyBmb290ZXIgYW5kIG5vIGNvbnRlbnQgaXMgaGFuZGxlZC5cbiAqXG4gKiBAcGFyYW0ge01vZGFsUGFyYW1zfSBwYXJhbXNcbiAqL1xudmFyIE1vZGFsQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsQ29udGFpbmVyKGlucHV0UGFyYW1zKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBfX2Fzc2lnbih7IGlkOiAnY29uZmlybS1tb2RhbCcsIGNsb3NhYmxlOiBmYWxzZSB9LCBpbnB1dFBhcmFtcyk7XG4gICAgICAgIHRoaXMuYnVpbGRNb2RhbENvbnRhaW5lcihwYXJhbXMpO1xuICAgIH1cbiAgICBNb2RhbENvbnRhaW5lci5wcm90b3R5cGUuYnVpbGRNb2RhbENvbnRhaW5lciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gTWFpbiBtb2RhbCBlbGVtZW50XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsJywgJ2ZhZGUnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIC8vIE1vZGFsIGRpYWxvZyBlbGVtZW50XG4gICAgICAgIHRoaXMuZGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGlhbG9nLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRpYWxvZycpO1xuICAgICAgICBpZiAocGFyYW1zLmRpYWxvZ1N0eWxlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMuZGlhbG9nU3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBfdGhpcy5kaWFsb2cuc3R5bGVba2V5XSA9IHBhcmFtcy5kaWFsb2dTdHlsZVtrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTW9kYWwgY29udGVudCBlbGVtZW50XG4gICAgICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnbW9kYWwtY29udGVudCcpO1xuICAgICAgICAvLyBNb2RhbCBtZXNzYWdlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnbW9kYWwtbWVzc2FnZScpO1xuICAgICAgICAvLyBNb2RhbCBoZWFkZXIgZWxlbWVudFxuICAgICAgICB0aGlzLmhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1oZWFkZXInKTtcbiAgICAgICAgLy8gTW9kYWwgdGl0bGUgZWxlbWVudFxuICAgICAgICBpZiAocGFyYW1zLm1vZGFsVGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNCcpO1xuICAgICAgICAgICAgdGhpcy50aXRsZS5jbGFzc0xpc3QuYWRkKCdtb2RhbC10aXRsZScpO1xuICAgICAgICAgICAgdGhpcy50aXRsZS5pbm5lckhUTUwgPSBwYXJhbXMubW9kYWxUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNb2RhbCBjbG9zZSBidXR0b24gaWNvblxuICAgICAgICB0aGlzLmNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmNsb3NlSWNvbi5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuICAgICAgICB0aGlzLmNsb3NlSWNvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuY2xvc2VJY29uLmRhdGFzZXQuZGlzbWlzcyA9ICdtb2RhbCc7XG4gICAgICAgIHRoaXMuY2xvc2VJY29uLmlubmVySFRNTCA9ICfDlyc7XG4gICAgICAgIC8vIE1vZGFsIGJvZHkgZWxlbWVudFxuICAgICAgICB0aGlzLmJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLWJvZHknLCAndGV4dC1sZWZ0JywgJ2ZvbnQtd2VpZ2h0LW5vcm1hbCcpO1xuICAgICAgICAvLyBDb25zdHJ1Y3RpbmcgdGhlIG1vZGFsXG4gICAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZCh0aGlzLmNsb3NlSWNvbik7XG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5oZWFkZXIsIHRoaXMuYm9keSk7XG4gICAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmRpYWxvZy5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpYWxvZyk7XG4gICAgfTtcbiAgICByZXR1cm4gTW9kYWxDb250YWluZXI7XG59KCkpO1xuZXhwb3J0IHsgTW9kYWxDb250YWluZXIgfTtcbi8qKlxuICogTW9kYWwgY29tcG9uZW50XG4gKlxuICogQHBhcmFtIHtJbnB1dE1vZGFsUGFyYW1zfSBwYXJhbXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNsb3NlQ2FsbGJhY2tcbiAqL1xudmFyIE1vZGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKGlucHV0UGFyYW1zKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBfX2Fzc2lnbih7IGlkOiAnY29uZmlybS1tb2RhbCcsIGNsb3NhYmxlOiBmYWxzZSwgZGlhbG9nU3R5bGU6IHt9IH0sIGlucHV0UGFyYW1zKTtcbiAgICAgICAgdGhpcy5pbml0Q29udGFpbmVyKHBhcmFtcyk7XG4gICAgfVxuICAgIE1vZGFsLnByb3RvdHlwZS5pbml0Q29udGFpbmVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAvLyBDb25zdHJ1Y3QgdGhlIG1vZGFsLCBjaGVjayBpZiBpdCBhbHJlYWR5IGV4aXN0cyBUaGlzIGFsbG93cyBjaGlsZCBjbGFzc2VzIHRvIHVzZSB0aGVpciBjdXN0b20gY29udGFpbmVyXG4gICAgICAgIGlmICghdGhpcy5tb2RhbCkge1xuICAgICAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbENvbnRhaW5lcihwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGpRdWVyeSBtb2RhbCBvYmplY3RcbiAgICAgICAgdGhpcy4kbW9kYWwgPSAkKHRoaXMubW9kYWwuY29udGFpbmVyKTtcbiAgICAgICAgdmFyIGlkID0gcGFyYW1zLmlkLCBjbG9zYWJsZSA9IHBhcmFtcy5jbG9zYWJsZTtcbiAgICAgICAgdGhpcy4kbW9kYWwubW9kYWwoe1xuICAgICAgICAgICAgYmFja2Ryb3A6IGNsb3NhYmxlID8gdHJ1ZSA6ICdzdGF0aWMnLFxuICAgICAgICAgICAga2V5Ym9hcmQ6IGNsb3NhYmxlICE9PSB1bmRlZmluZWQgPyBjbG9zYWJsZSA6IHRydWUsXG4gICAgICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJG1vZGFsLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiLmNvbmNhdChpZCkpO1xuICAgICAgICAgICAgaWYgKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1zLmNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuY2xvc2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsLmNvbnRhaW5lcik7XG4gICAgfTtcbiAgICBNb2RhbC5wcm90b3R5cGUuc2V0VGl0bGUgPSBmdW5jdGlvbiAobW9kYWxUaXRsZSkge1xuICAgICAgICBpZiAoIXRoaXMubW9kYWwudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwudGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNCcpO1xuICAgICAgICAgICAgdGhpcy5tb2RhbC50aXRsZS5jbGFzc0xpc3QuYWRkKCdtb2RhbC10aXRsZScpO1xuICAgICAgICAgICAgaWYgKHRoaXMubW9kYWwuY2xvc2VJY29uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5oZWFkZXIuaW5zZXJ0QmVmb3JlKHRoaXMubW9kYWwudGl0bGUsIHRoaXMubW9kYWwuY2xvc2VJY29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMubW9kYWwudGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kYWwudGl0bGUuaW5uZXJIVE1MID0gbW9kYWxUaXRsZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBNb2RhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5tZXNzYWdlLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuJG1vZGFsLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgTW9kYWwucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuJG1vZGFsLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIC8vIFNvbWV0aW1lcyBtb2RhbCBhbmltYXRpb24gaXMgc3RpbGwgaW4gcHJvZ3Jlc3MgYW5kIGhpZGluZyBmYWlscywgc28gd2UgYXR0YWNoIGV2ZW50IGxpc3RlbmVyIGZvciB0aGF0IGNhc2UuXG4gICAgICAgIHRoaXMuJG1vZGFsLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLiRtb2RhbC5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgX3RoaXMuJG1vZGFsLm9mZignc2hvd24uYnMubW9kYWwnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIE1vZGFsO1xufSgpKTtcbmV4cG9ydCB7IE1vZGFsIH07XG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgSWZyYW1lRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKElmcmFtZUV2ZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElmcmFtZUV2ZW50KGV2ZW50TmFtZSwgcGFyYW1ldGVycykge1xuICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gdm9pZCAwKSB7IHBhcmFtZXRlcnMgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBJZnJhbWVFdmVudC5wYXJlbnRXaW5kb3dFdmVudCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICBfdGhpcy5ldmVudFBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJZnJhbWVFdmVudC5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElmcmFtZUV2ZW50LnByb3RvdHlwZSwgXCJwYXJhbWV0ZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudFBhcmFtZXRlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBJZnJhbWVFdmVudC5wYXJlbnRXaW5kb3dFdmVudCA9ICdJZnJhbWVDbGllbnRFdmVudCc7XG4gICAgcmV0dXJuIElmcmFtZUV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgSWZyYW1lRXZlbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbi8qIGVzbGludCBtYXgtY2xhc3Nlcy1wZXItZmlsZTogW1wiZXJyb3JcIiwgMl0gKi9cbmltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICdyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwnO1xuaW1wb3J0IHsgTW9kYWxDb250YWluZXIsIE1vZGFsLCB9IGZyb20gJ0Bjb21wb25lbnRzL21vZGFsL21vZGFsJztcbmltcG9ydCBJZnJhbWVFdmVudCBmcm9tICdAY29tcG9uZW50cy9tb2RhbC9pZnJhbWUtZXZlbnQnO1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdAUFNUeXBlcy90eXBlZ3VhcmQnO1xuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gYnVpbGQgdGhlIG1vZGFsIERPTSBlbGVtZW50cywgaXQgaXMgbm90IHVzYWJsZSBhcyBpcyBiZWNhdXNlIGl0IGRvZXNuJ3QgZXZlbiBoYXZlIGEgc2hvd1xuICogbWV0aG9kIGFuZCB0aGUgZWxlbWVudHMgYXJlIGNyZWF0ZWQgYnV0IG5vdCBhZGRlZCB0byB0aGUgRE9NLiBJdCBqdXN0IGNyZWF0ZXMgYSBiYXNpYyBET00gc3RydWN0dXJlIG9mIGFcbiAqIEJvb3RzdHJhcCBtb2RhbCwgdGh1cyBrZWVwaW5nIHRoZSBsb2dpYyBjbGFzcyBvZiB0aGUgbW9kYWwgc2VwYXJhdGVkLlxuICpcbiAqIFRoaXMgY29udGFpbmVyIGlzIGJ1aWx0IG9uIHRoZSBiYXNpYyBNb2RhbENvbnRhaW5lciBhbmQgYWRkcyBhbiBpZnJhbWUgdG8gbG9hZCBleHRlcm5hbCBjb250ZW50IGFsb25nIHdpdGggYVxuICogbG9hZGVyIGRpdiBvbiB0b3Agb2YgaXQuXG4gKlxuICogQHBhcmFtIHtJbnB1dElmcmFtZU1vZGFsUGFyYW1zfSBpbnB1dFBhcmFtc1xuICovXG52YXIgSWZyYW1lTW9kYWxDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKElmcmFtZU1vZGFsQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIC8qIFRoaXMgY29uc3RydWN0b3IgaXMgaW1wb3J0YW50IHRvIGZvcmNlIHRoZSBpbnB1dCB0eXBlIGJ1dCBFU0xpbnQgaXMgbm90IGhhcHB5IGFib3V0IGl0Ki9cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11c2VsZXNzLWNvbnN0cnVjdG9yICovXG4gICAgZnVuY3Rpb24gSWZyYW1lTW9kYWxDb250YWluZXIocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwYXJhbXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIElmcmFtZU1vZGFsQ29udGFpbmVyLnByb3RvdHlwZS5idWlsZE1vZGFsQ29udGFpbmVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJ1aWxkTW9kYWxDb250YWluZXIuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1pZnJhbWUnKTtcbiAgICAgICAgLy8gTWVzc2FnZSBpcyBoaWRkZW4gYnkgZGVmYXVsdFxuICAgICAgICB0aGlzLm1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIHRoaXMuaWZyYW1lLmZyYW1lQm9yZGVyID0gJzAnO1xuICAgICAgICB0aGlzLmlmcmFtZS5zY3JvbGxpbmcgPSAnbm8nO1xuICAgICAgICB0aGlzLmlmcmFtZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5pZnJhbWUuc2V0QXR0cmlidXRlKCduYW1lJywgXCJcIi5jb25jYXQocGFyYW1zLmlkLCBcIi1pZnJhbWVcIikpO1xuICAgICAgICBpZiAoIXBhcmFtcy5hdXRvU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5pZnJhbWUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWlmcmFtZS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5zcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCdzcGlubmVyJyk7XG4gICAgICAgIHRoaXMubG9hZGVyLmFwcGVuZENoaWxkKHRoaXMuc3Bpbm5lcik7XG4gICAgICAgIHRoaXMuYm9keS5hcHBlbmQodGhpcy5sb2FkZXIsIHRoaXMuaWZyYW1lKTtcbiAgICAgICAgLy8gTW9kYWwgZm9vdGVyIGVsZW1lbnRcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChwYXJhbXMuY2xvc2VCdXR0b25MYWJlbCkgfHwgIWlzVW5kZWZpbmVkKHBhcmFtcy5jb25maXJtQnV0dG9uTGFiZWwpKSB7XG4gICAgICAgICAgICB0aGlzLmZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5mb290ZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWwtZm9vdGVyJyk7XG4gICAgICAgICAgICAvLyBNb2RhbCBjbG9zZSBidXR0b24gZWxlbWVudFxuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChwYXJhbXMuY2xvc2VCdXR0b25MYWJlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nLCAnYnRuLW91dGxpbmUtc2Vjb25kYXJ5JywgJ2J0bi1sZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b24uZGF0YXNldC5kaXNtaXNzID0gJ21vZGFsJztcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmlubmVySFRNTCA9IHBhcmFtcy5jbG9zZUJ1dHRvbkxhYmVsO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9vdGVyLmFwcGVuZCh0aGlzLmNsb3NlQnV0dG9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1vZGFsIGNvbmZpcm0gYnV0dG9uIGVsZW1lbnRcbiAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQocGFyYW1zLmNvbmZpcm1CdXR0b25MYWJlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nLCAnYnRuLXByaW1hcnknLCAnYnRuLWxnJywgJ2J0bi1jb25maXJtLXN1Ym1pdCcpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2xvc2VPbkNvbmZpcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uLmRhdGFzZXQuZGlzbWlzcyA9ICdtb2RhbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5pbm5lckhUTUwgPSBwYXJhbXMuY29uZmlybUJ1dHRvbkxhYmVsO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9vdGVyLmFwcGVuZCh0aGlzLmNvbmZpcm1CdXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXBwZW5kaW5nIGVsZW1lbnQgdG8gdGhlIG1vZGFsXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMuZm9vdGVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElmcmFtZU1vZGFsQ29udGFpbmVyO1xufShNb2RhbENvbnRhaW5lcikpO1xuZXhwb3J0IHsgSWZyYW1lTW9kYWxDb250YWluZXIgfTtcbi8qKlxuICogVGhpcyBtb2RhbCBvcGVucyBhbiB1cmwgaW5zaWRlIGEgbW9kYWwsIGl0IHRoZW4gY2FuIGhhbmRsZSB0d28gc3BlY2lmaWMgY2FsbGJhY2tzXG4gKiAtIG9uTG9hZGVkOiBjYWxsZWQgd2hlbiB0aGUgaWZyYW1lIGhhcyBqdXN0ZSBiZWVuIHJlZnJlc2hlZFxuICogLSBvblVubG9hZDogY2FsbGVkIHdoZW4gdGhlIGlmcmFtZSBpcyBhYm91dCB0byByZWZyZXNoIChzbyBpdCBpcyB1bmxvYWRlZClcbiAqL1xudmFyIElmcmFtZU1vZGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJZnJhbWVNb2RhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJZnJhbWVNb2RhbChpbnB1dFBhcmFtcykge1xuICAgICAgICB2YXIgcGFyYW1zID0gX19hc3NpZ24oeyBpZDogJ2lmcmFtZS1tb2RhbCcsIGNsb3NhYmxlOiBmYWxzZSwgYXV0b1NpemU6IHRydWUsIGF1dG9TaXplQ29udGFpbmVyOiAnYm9keScsIGNsb3NlT25Db25maXJtOiB0cnVlLCBhdXRvU2Nyb2xsVXA6IHRydWUgfSwgaW5wdXRQYXJhbXMpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcGFyYW1zKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuaW5pdENvbnRhaW5lciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBjb250YWluZXJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBJZnJhbWVNb2RhbENvbnRhaW5lcihwYXJhbXMpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmluaXRDb250YWluZXIuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgICAgICB0aGlzLmF1dG9TaXplID0gcGFyYW1zLmF1dG9TaXplO1xuICAgICAgICB0aGlzLmF1dG9TaXplQ29udGFpbmVyID0gcGFyYW1zLmF1dG9TaXplQ29udGFpbmVyO1xuICAgICAgICB0aGlzLm1vZGFsLmlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGxvYWRlZEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBTY3JvbGwgdGhlIGJvZHkgY29udGFpbmVyIGJhY2sgdG8gdGhlIHRvcCBhZnRlciBpZnJhbWUgbG9hZGVkXG4gICAgICAgICAgICBfdGhpcy5tb2RhbC5ib2R5LnNjcm9sbCgwLCAwKTtcbiAgICAgICAgICAgIF90aGlzLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICBpZiAocGFyYW1zLm9uTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm9uTG9hZGVkKF90aGlzLm1vZGFsLmlmcmFtZSwgbG9hZGVkRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLm1vZGFsLmlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubW9kYWwuaWZyYW1lLmNvbnRlbnRXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24gKHVubG9hZEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMub25VbmxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vblVubG9hZChfdGhpcy5tb2RhbC5pZnJhbWUsIHVubG9hZEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEF1dG8gcmVzaXplIHRoZSBpZnJhbWUgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgX3RoaXMuaW5pdEF1dG9SZXNpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJG1vZGFsLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm1vZGFsLmlmcmFtZS5zcmMgPSBwYXJhbXMuaWZyYW1lVXJsO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSWZyYW1lRXZlbnQucGFyZW50V2luZG93RXZlbnQsIChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMub25JZnJhbWVFdmVudCkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5vbklmcmFtZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbC5jb25maXJtQnV0dG9uICYmIHBhcmFtcy5jb25maXJtQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY29uZmlybUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jb25maXJtQ2FsbGJhY2soX3RoaXMubW9kYWwuaWZyYW1lLCBldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElmcmFtZU1vZGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY29udGVudCwgaGlkZUlmcmFtZSkge1xuICAgICAgICBpZiAoaGlkZUlmcmFtZSA9PT0gdm9pZCAwKSB7IGhpZGVJZnJhbWUgPSB0cnVlOyB9XG4gICAgICAgIHRoaXMubW9kYWwubWVzc2FnZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICB0aGlzLm1vZGFsLm1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG4gICAgICAgIGlmIChoaWRlSWZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVJZnJhbWUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF1dG9SZXNpemUoKTtcbiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIElmcmFtZU1vZGFsLnByb3RvdHlwZS5zaG93TG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvZHlIZWlnaHQgPSB0aGlzLmdldE91dGVySGVpZ2h0KHRoaXMubW9kYWwuYm9keSk7XG4gICAgICAgIHZhciBib2R5V2lkdGggPSB0aGlzLmdldE91dGVyV2lkdGgodGhpcy5tb2RhbC5ib2R5KTtcbiAgICAgICAgdGhpcy5tb2RhbC5sb2FkZXIuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoYm9keUhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgdGhpcy5tb2RhbC5sb2FkZXIuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdChib2R5V2lkdGgsIFwicHhcIik7XG4gICAgICAgIHRoaXMubW9kYWwubG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICAgICAgICB0aGlzLm1vZGFsLmlmcmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnZpc2libGUnKTtcbiAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuY2xhc3NMaXN0LmFkZCgnaW52aXNpYmxlJyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmhpZGVMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vZGFsLmlmcmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnZpc2libGUnKTtcbiAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgICB0aGlzLm1vZGFsLmxvYWRlci5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5oaWRlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYW5SZXNpemVPYnNlcnZlcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIElmcmFtZU1vZGFsLnByb3RvdHlwZS5oaWRlSWZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vZGFsLmlmcmFtZS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICB9O1xuICAgIElmcmFtZU1vZGFsLnByb3RvdHlwZS5nZXRSZXNpemFibGVDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9TaXplICYmIHRoaXMubW9kYWwuaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGFsLmlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5hdXRvU2l6ZUNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuaW5pdEF1dG9SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpZnJhbWVDb250YWluZXIgPSB0aGlzLmdldFJlc2l6YWJsZUNvbnRhaW5lcigpO1xuICAgICAgICBpZiAoaWZyYW1lQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFuUmVzaXplT2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmF1dG9SZXNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGlmcmFtZUNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRvUmVzaXplKCk7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuY2xlYW5SZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElmcmFtZU1vZGFsLnByb3RvdHlwZS5hdXRvUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWZyYW1lQ29udGFpbmVyID0gdGhpcy5nZXRSZXNpemFibGVDb250YWluZXIoKTtcbiAgICAgICAgaWYgKGlmcmFtZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgdmFyIGlmcmFtZVNjcm9sbEhlaWdodCA9IGlmcmFtZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgY29udGVudEhlaWdodCA9IHRoaXMuZ2V0T3V0ZXJIZWlnaHQodGhpcy5tb2RhbC5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICsgaWZyYW1lU2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgLy8gQXZvaWQgYXBwbHlpbmcgaGVpZ2h0IG9mIDAgKG9uIGZpcnN0IGxvYWQgZm9yIGV4YW1wbGUpXG4gICAgICAgICAgICBpZiAoY29udGVudEhlaWdodCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGZvcmNlIHRoZSBpZnJhbWUgdG8gaXRzIHJlYWwgaGVpZ2h0IGFuZCBpdCdzIHRoZSBjb250YWluZXIgdGhhdCBoYW5kbGVzIHRoZSBvdmVyZmxvdyB3aXRoIHNjcm9sbGJhcnNcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdChjb250ZW50SGVpZ2h0LCBcInB4XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuZ2V0T3V0ZXJIZWlnaHQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBoZWlnaHQgaXMgMCBpdCBpcyBsaWtlbHkgZW1wdHkgb3IgaGlkZGVuLCB0aGVuIG5vIG5lZWQgdG8gY29tcHV0ZSB0aGUgbWFyZ2luXG4gICAgICAgIGlmICghZWxlbWVudC5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgaGVpZ2h0ICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tLCAxMCk7XG4gICAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuZ2V0T3V0ZXJXaWR0aCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhlaWdodCBpcyAwIGl0IGlzIGxpa2VseSBlbXB0eSBvciBoaWRkZW4sIHRoZW4gbm8gbmVlZCB0byBjb21wdXRlIHRoZSBtYXJnaW5cbiAgICAgICAgaWYgKCFlbGVtZW50Lm9mZnNldFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICB3aWR0aCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0LCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCwgMTApO1xuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfTtcbiAgICByZXR1cm4gSWZyYW1lTW9kYWw7XG59KE1vZGFsKSk7XG5leHBvcnQgeyBJZnJhbWVNb2RhbCB9O1xuZXhwb3J0IGRlZmF1bHQgSWZyYW1lTW9kYWw7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCBJZnJhbWVNb2RhbCBmcm9tICdAY29tcG9uZW50cy9tb2RhbC9pZnJhbWUtbW9kYWwnO1xuLyoqXG4gKiBUaGlzIG1vZGFsIG9wZW5zIGFuIHVybCBjb250YWluaW5nIGEgZm9ybSBpbnNpZGUgYSBtb2RhbCBhbmQgd2F0Y2hlcyBmb3IgdGhlIHN1Ym1pdCAodmlhIGlmcmFtZSBsb2FkaW5nKVxuICogT24gZWFjaCBsb2FkIGl0IGlzIGFibGUgdG8gcmV0dXJuIGRhdGEgZnJvbSB0aGUgZm9ybSB2aWEgdGhlIG9uRm9ybUxvYWRlZCBjYWxsYmFja1xuICovXG52YXIgRm9ybUlmcmFtZU1vZGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGb3JtSWZyYW1lTW9kYWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRm9ybUlmcmFtZU1vZGFsKHBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaWZyYW1lUGFyYW1zID0gX19hc3NpZ24oeyBpZnJhbWVVcmw6IHBhcmFtcy5mb3JtVXJsLCBvbkxvYWRlZDogZnVuY3Rpb24gKGlmcmFtZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uSWZyYW1lTG9hZGVkKGlmcmFtZSwgZXZlbnQsIHBhcmFtcy5vbkZvcm1Mb2FkZWQsIChfYSA9IHBhcmFtcy5jYW5jZWxCdXR0b25TZWxlY3RvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJy5jYW5jZWwtYnRuJywgKF9iID0gcGFyYW1zLmZvcm1TZWxlY3RvcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ2Zvcm0nKTtcbiAgICAgICAgICAgIH0sIGNvbmZpcm1DYWxsYmFjazogZnVuY3Rpb24gKGlmcmFtZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgX3RoaXMub25Db25maXJtQ2FsbGJhY2soaWZyYW1lLCBldmVudCwgcGFyYW1zLmZvcm1Db25maXJtQ2FsbGJhY2ssIChfYSA9IHBhcmFtcy5mb3JtU2VsZWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdmb3JtJyk7XG4gICAgICAgICAgICB9IH0sIHBhcmFtcyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaWZyYW1lUGFyYW1zKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZvcm1JZnJhbWVNb2RhbC5wcm90b3R5cGUub25JZnJhbWVMb2FkZWQgPSBmdW5jdGlvbiAoaWZyYW1lLCBldmVudCwgb25Gb3JtTG9hZGVkLCBjYW5jZWxCdXR0b25TZWxlY3RvciwgZm9ybVNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFvbkZvcm1Mb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWZyYW1lRm9ybSA9IHRoaXMuZ2V0Rm9ybShpZnJhbWUsIGZvcm1TZWxlY3Rvcik7XG4gICAgICAgIGlmICghaWZyYW1lRm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsb3NlIG1vZGFsIHdoZW4gY2FuY2VsIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICAgIHZhciBjYW5jZWxCdXR0b25zID0gaWZyYW1lRm9ybS5xdWVyeVNlbGVjdG9yQWxsKGNhbmNlbEJ1dHRvblNlbGVjdG9yKTtcbiAgICAgICAgY2FuY2VsQnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjYW5jZWxCdXR0b24pIHtcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uRm9ybUxvYWRlZChpZnJhbWVGb3JtLCBuZXcgRm9ybURhdGEoaWZyYW1lRm9ybSksIChfYSA9IGlmcmFtZUZvcm0uZGF0YXNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCwgZXZlbnQpO1xuICAgIH07XG4gICAgRm9ybUlmcmFtZU1vZGFsLnByb3RvdHlwZS5vbkNvbmZpcm1DYWxsYmFjayA9IGZ1bmN0aW9uIChpZnJhbWUsIGV2ZW50LCBmb3JtQ29uZmlybUNhbGxiYWNrLCBmb3JtU2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCFmb3JtQ29uZmlybUNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlmcmFtZUZvcm0gPSB0aGlzLmdldEZvcm0oaWZyYW1lLCBmb3JtU2VsZWN0b3IpO1xuICAgICAgICBpZiAoIWlmcmFtZUZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3JtQ29uZmlybUNhbGxiYWNrKGlmcmFtZUZvcm0sIGlmcmFtZSwgZXZlbnQpO1xuICAgIH07XG4gICAgRm9ybUlmcmFtZU1vZGFsLnByb3RvdHlwZS5nZXRGb3JtID0gZnVuY3Rpb24gKGlmcmFtZSwgZm9ybVNlbGVjdG9yKSB7XG4gICAgICAgIGlmICghaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XG4gICAgfTtcbiAgICByZXR1cm4gRm9ybUlmcmFtZU1vZGFsO1xufShJZnJhbWVNb2RhbCkpO1xuZXhwb3J0IHsgRm9ybUlmcmFtZU1vZGFsIH07XG4iLCJpbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbmltcG9ydCB7IENvbmZpcm1Nb2RhbCB9IGZyb20gJ0Bjb21wb25lbnRzL21vZGFsJztcbnZhciAkID0gd2luZG93LiQ7XG4vKipcbiAqIENsYXNzIFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbiBoYW5kbGVzIHN1Ym1pdHRpbmcgb2Ygcm93IGFjdGlvblxuICovXG52YXIgU3VibWl0Um93QWN0aW9uRXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZ3JpZC5nZXRDb250YWluZXIoKS5vbignY2xpY2snLCAnLmpzLXN1Ym1pdC1yb3ctYWN0aW9uJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgdmFyIGNvbmZpcm1NZXNzYWdlID0gJGJ1dHRvbi5kYXRhKCdjb25maXJtTWVzc2FnZScpO1xuICAgICAgICAgICAgdmFyIGNvbmZpcm1UaXRsZSA9ICRidXR0b24uZGF0YSgndGl0bGUnKTtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSAkYnV0dG9uLmRhdGEoJ21ldGhvZCcpO1xuICAgICAgICAgICAgaWYgKGNvbmZpcm1UaXRsZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNob3dDb25maXJtTW9kYWwoJGJ1dHRvbiwgZ3JpZCwgY29uZmlybU1lc3NhZ2UsIGNvbmZpcm1UaXRsZSwgbWV0aG9kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGlmIChjb25maXJtTWVzc2FnZS5sZW5ndGggJiYgIXdpbmRvdy5jb25maXJtKGNvbmZpcm1NZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc3RGb3JtKCRidXR0b24sIG1ldGhvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3VibWl0Um93QWN0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5wb3N0Rm9ybSA9IGZ1bmN0aW9uICgkYnV0dG9uLCBtZXRob2QpIHtcbiAgICAgICAgdmFyIGlzR2V0T3JQb3N0TWV0aG9kID0gWydHRVQnLCAnUE9TVCddLmluY2x1ZGVzKG1ldGhvZCk7XG4gICAgICAgIHZhciAkZm9ybSA9ICQoJzxmb3JtPicsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJGJ1dHRvbi5kYXRhKCd1cmwnKSxcbiAgICAgICAgICAgIG1ldGhvZDogaXNHZXRPclBvc3RNZXRob2QgPyBtZXRob2QgOiAnUE9TVCcsXG4gICAgICAgIH0pLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgICAgIGlmICghaXNHZXRPclBvc3RNZXRob2QpIHtcbiAgICAgICAgICAgICRmb3JtLmFwcGVuZCgkKCc8aW5wdXQ+Jywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdfbWV0aG9kJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWV0aG9kLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgICRmb3JtLnN1Ym1pdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRzdWJtaXRCdG5cbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlybU1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlybVRpdGxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAqL1xuICAgIFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuc2hvd0NvbmZpcm1Nb2RhbCA9IGZ1bmN0aW9uICgkc3VibWl0QnRuLCBncmlkLCBjb25maXJtTWVzc2FnZSwgY29uZmlybVRpdGxlLCBtZXRob2QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbmZpcm1CdXR0b25MYWJlbCA9ICRzdWJtaXRCdG4uZGF0YSgnY29uZmlybUJ1dHRvbkxhYmVsJyk7XG4gICAgICAgIHZhciBjbG9zZUJ1dHRvbkxhYmVsID0gJHN1Ym1pdEJ0bi5kYXRhKCdjbG9zZUJ1dHRvbkxhYmVsJyk7XG4gICAgICAgIHZhciBjb25maXJtQnV0dG9uQ2xhc3MgPSAkc3VibWl0QnRuLmRhdGEoJ2NvbmZpcm1CdXR0b25DbGFzcycpO1xuICAgICAgICB2YXIgbW9kYWwgPSBuZXcgQ29uZmlybU1vZGFsKHtcbiAgICAgICAgICAgIGlkOiBHcmlkTWFwLmNvbmZpcm1Nb2RhbChncmlkLmdldElkKCkpLFxuICAgICAgICAgICAgY29uZmlybVRpdGxlOiBjb25maXJtVGl0bGUsXG4gICAgICAgICAgICBjb25maXJtTWVzc2FnZTogY29uZmlybU1lc3NhZ2UsXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uTGFiZWw6IGNvbmZpcm1CdXR0b25MYWJlbCxcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uTGFiZWw6IGNsb3NlQnV0dG9uTGFiZWwsXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6IGNvbmZpcm1CdXR0b25DbGFzcyxcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucG9zdEZvcm0oJHN1Ym1pdEJ0biwgbWV0aG9kKTsgfSk7XG4gICAgICAgIG1vZGFsLnNob3coKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3VibWl0Um93QWN0aW9uRXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xudmFyICQgPSB3aW5kb3cuJDtcbi8qKlxuICogTWFrZXMgYSB0YWJsZSBzb3J0YWJsZSBieSBjb2x1bW5zLlxuICogVGhpcyBmb3JjZXMgYSBwYWdlIHJlbG9hZCB3aXRoIG1vcmUgcXVlcnkgcGFyYW1ldGVycy5cbiAqL1xudmFyIFRhYmxlU29ydGluZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gdGFibGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUYWJsZVNvcnRpbmcodGFibGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gJy5wcy1zb3J0YWJsZS1jb2x1bW4nO1xuICAgICAgICB0aGlzLmlkVGFibGUgPSAoX2EgPSB0YWJsZS5hdHRyKCdpZCcpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gdGFibGUuZmluZCh0aGlzLnNlbGVjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdGhlIGxpc3RlbmVyc1xuICAgICAqL1xuICAgIFRhYmxlU29ydGluZy5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbHVtbnMub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciAkY29sdW1uID0gJChlLmRlbGVnYXRlVGFyZ2V0KTtcbiAgICAgICAgICAgIF90aGlzLnNvcnRCeUNvbHVtbigkY29sdW1uLCBfdGhpcy5nZXRUb2dnbGVkU29ydERpcmVjdGlvbigkY29sdW1uKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU29ydCB1c2luZyBhIGNvbHVtbiBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtbk5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIFwiYXNjXCIgb3IgXCJkZXNjXCJcbiAgICAgKi9cbiAgICBUYWJsZVNvcnRpbmcucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIChjb2x1bW5OYW1lLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyICRjb2x1bW4gPSB0aGlzLmNvbHVtbnMuaXMoXCJbZGF0YS1zb3J0LWNvbC1uYW1lPVxcXCJcIi5jb25jYXQoY29sdW1uTmFtZSwgXCJcXFwiXVwiKSk7XG4gICAgICAgIGlmICghJGNvbHVtbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNvcnQgYnkgXFxcIlwiLmNvbmNhdChjb2x1bW5OYW1lLCBcIlxcXCI6IGludmFsaWQgY29sdW1uXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnRCeUNvbHVtbih0aGlzLmNvbHVtbnMsIGRpcmVjdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTb3J0IHVzaW5nIGEgY29sdW1uIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gY29sdW1uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiBcImFzY1wiIG9yIFwiZGVzY1wiXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUYWJsZVNvcnRpbmcucHJvdG90eXBlLnNvcnRCeUNvbHVtbiA9IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbikge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMuZ2V0VXJsKGNvbHVtbi5kYXRhKCdzb3J0Q29sTmFtZScpLCBkaXJlY3Rpb24gPT09ICdkZXNjJyA/ICdkZXNjJyA6ICdhc2MnLCBjb2x1bW4uZGF0YSgnc29ydFByZWZpeCcpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludmVydGVkIGRpcmVjdGlvbiB0byBzb3J0IGFjY29yZGluZyB0byB0aGUgY29sdW1uJ3MgY3VycmVudCBvbmVcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gY29sdW1uXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGFibGVTb3J0aW5nLnByb3RvdHlwZS5nZXRUb2dnbGVkU29ydERpcmVjdGlvbiA9IGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5kYXRhKCdzb3J0RGlyZWN0aW9uJykgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1cmwgZm9yIHRoZSBzb3J0ZWQgdGFibGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sTmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4XG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGFibGVTb3J0aW5nLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoY29sTmFtZSwgZGlyZWN0aW9uLCBwcmVmaXgpIHtcbiAgICAgICAgdmFyIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICB2YXIgcGFyYW1zID0gdXJsLnNlYXJjaFBhcmFtcztcbiAgICAgICAgaWYgKHByZWZpeCkge1xuICAgICAgICAgICAgcGFyYW1zLnNldChcIlwiLmNvbmNhdChwcmVmaXgsIFwiW29yZGVyQnldXCIpLCBjb2xOYW1lKTtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoXCJcIi5jb25jYXQocHJlZml4LCBcIltzb3J0T3JkZXJdXCIpLCBkaXJlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zLnNldCgnb3JkZXJCeScsIGNvbE5hbWUpO1xuICAgICAgICAgICAgcGFyYW1zLnNldCgnc29ydE9yZGVyJywgZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB1cmwuaGFzaCA9IHRoaXMuaWRUYWJsZTtcbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH07XG4gICAgcmV0dXJuIFRhYmxlU29ydGluZztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUYWJsZVNvcnRpbmc7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgVGFibGVTb3J0aW5nIGZyb20gJ0BhcHAvdXRpbHMvdGFibGUtc29ydGluZyc7XG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbi8qKlxuICogQ2xhc3MgUmVsb2FkTGlzdEV4dGVuc2lvbiBleHRlbmRzIGdyaWQgd2l0aCBcIkxpc3QgcmVsb2FkXCIgYWN0aW9uXG4gKi9cbnZhciBTb3J0aW5nRXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvcnRpbmdFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBTb3J0aW5nRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgJHNvcnRhYmxlVGFibGUgPSBncmlkLmdldENvbnRhaW5lcigpLmZpbmQoR3JpZE1hcC50YWJsZSk7XG4gICAgICAgIG5ldyBUYWJsZVNvcnRpbmcoJHNvcnRhYmxlVGFibGUpLmF0dGFjaCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNvcnRpbmdFeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU29ydGluZ0V4dGVuc2lvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cblxuLyoqXG4gKiBTZW5kIGEgUG9zdCBSZXF1ZXN0IHRvIHJlc2V0IHNlYXJjaCBBY3Rpb24uXG4gKi9cblxuY29uc3QgeyR9ID0gd2luZG93O1xuXG5jb25zdCBpbml0ID0gZnVuY3Rpb24gcmVzZXRTZWFyY2godXJsLCByZWRpcmVjdFVybCkge1xuICAkLnBvc3QodXJsKS50aGVuKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24ocmVkaXJlY3RVcmwpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluaXQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgcmVzZXRTZWFyY2ggZnJvbSAnQGFwcC91dGlscy9yZXNldF9zZWFyY2gnO1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBGaWx0ZXJzUmVzZXRFeHRlbnNpb24gZXh0ZW5kcyBncmlkIHdpdGggZmlsdGVycyByZXNldHRpbmdcbiAqL1xudmFyIEZpbHRlcnNSZXNldEV4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJzUmVzZXRFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBGaWx0ZXJzUmVzZXRFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIGdyaWQuZ2V0Q29udGFpbmVyKCkub24oJ2NsaWNrJywgR3JpZE1hcC5yZXNldFNlYXJjaCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXNldFNlYXJjaCgkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3VybCcpLCAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3JlZGlyZWN0JykpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJzUmVzZXRFeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG4vKipcbiAqIENsYXNzIFJlbG9hZExpc3RFeHRlbnNpb24gZXh0ZW5kcyBncmlkIHdpdGggXCJMaXN0IHJlbG9hZFwiIGFjdGlvblxuICovXG52YXIgUmVsb2FkTGlzdEV4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWxvYWRMaXN0RXh0ZW5zaW9uKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgZ3JpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICovXG4gICAgUmVsb2FkTGlzdEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgZ3JpZFxuICAgICAgICAgICAgLmdldEhlYWRlckNvbnRhaW5lcigpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgR3JpZE1hcC5jb21tb25SZWZyZXNoTGlzdEFjdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWxvYWRMaXN0RXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbG9hZExpc3RFeHRlbnNpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbnZhciAkID0gd2luZG93LiQ7XG4vKipcbiAqIENsYXNzIFJlbG9hZExpc3RFeHRlbnNpb24gZXh0ZW5kcyBncmlkIHdpdGggXCJDb2x1bW4gdG9nZ2xpbmdcIiBmZWF0dXJlXG4gKi9cbnZhciBDb2x1bW5Ub2dnbGluZ0V4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2x1bW5Ub2dnbGluZ0V4dGVuc2lvbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIENvbHVtblRvZ2dsaW5nRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHRhYmxlID0gZ3JpZC5nZXRDb250YWluZXIoKS5maW5kKEdyaWRNYXAudGFibGUpO1xuICAgICAgICAkdGFibGUuZmluZChHcmlkTWFwLnRvZ2dsYWJsZVJvdykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIF90aGlzLnRvZ2dsZVZhbHVlKCQoZS5kZWxlZ2F0ZVRhcmdldCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSByb3dcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENvbHVtblRvZ2dsaW5nRXh0ZW5zaW9uLnByb3RvdHlwZS50b2dnbGVWYWx1ZSA9IGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgdmFyIHRvZ2dsZVVybCA9IHJvdy5kYXRhKCd0b2dnbGVVcmwnKTtcbiAgICAgICAgdGhpcy5zdWJtaXRBc0Zvcm0odG9nZ2xlVXJsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1Ym1pdHMgcmVxdWVzdCB1cmwgYXMgZm9ybVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvZ2dsZVVybFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24ucHJvdG90eXBlLnN1Ym1pdEFzRm9ybSA9IGZ1bmN0aW9uICh0b2dnbGVVcmwpIHtcbiAgICAgICAgdmFyICRmb3JtID0gJCgnPGZvcm0+Jywge1xuICAgICAgICAgICAgYWN0aW9uOiB0b2dnbGVVcmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgfSkuYXBwZW5kVG8oJ2JvZHknKTtcbiAgICAgICAgJGZvcm0uc3VibWl0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbnZhciAkID0gd2luZG93LiQ7XG4vKipcbiAqIENsYXNzIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbiBleHRlbmRzIGdyaWQgd2l0aCBleHBvcnRpbmcgcXVlcnkgdG8gU1FMIE1hbmFnZXJcbiAqL1xudmFyIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGdyaWRcbiAgICAgICAgICAgIC5nZXRIZWFkZXJDb250YWluZXIoKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIEdyaWRNYXAuYWN0aW9ucy5zaG93UXVlcnksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uU2hvd1NxbFF1ZXJ5Q2xpY2soZ3JpZCk7IH0pO1xuICAgICAgICBncmlkXG4gICAgICAgICAgICAuZ2V0SGVhZGVyQ29udGFpbmVyKClcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBHcmlkTWFwLmFjdGlvbnMuZXhwb3J0UXVlcnksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRXhwb3J0U3FsTWFuYWdlckNsaWNrKGdyaWQpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiBjbGlja2luZyBvbiB0aGUgXCJzaG93IHNxbCBxdWVyeVwiIHRvb2xiYXIgYnV0dG9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uLnByb3RvdHlwZS5vblNob3dTcWxRdWVyeUNsaWNrID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyICRzcWxNYW5hZ2VyRm9ybSA9ICQoR3JpZE1hcC5hY3Rpb25zLnNob3dNb2RhbEZvcm0oZ3JpZC5nZXRJZCgpKSk7XG4gICAgICAgIHRoaXMuZmlsbEV4cG9ydEZvcm0oJHNxbE1hbmFnZXJGb3JtLCBncmlkKTtcbiAgICAgICAgdmFyICRtb2RhbCA9ICQoR3JpZE1hcC5hY3Rpb25zLnNob3dNb2RhbEdyaWQoZ3JpZC5nZXRJZCgpKSk7XG4gICAgICAgICRtb2RhbC5tb2RhbCgnc2hvdycpO1xuICAgICAgICAkbW9kYWwub24oJ2NsaWNrJywgR3JpZE1hcC5zcWxTdWJtaXQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICRzcWxNYW5hZ2VyRm9ybS5zdWJtaXQoKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gY2xpY2tpbmcgb24gdGhlIFwiZXhwb3J0IHRvIHRoZSBzcWwgcXVlcnlcIiB0b29sYmFyIGJ1dHRvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbi5wcm90b3R5cGUub25FeHBvcnRTcWxNYW5hZ2VyQ2xpY2sgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgJHNxbE1hbmFnZXJGb3JtID0gJChHcmlkTWFwLmFjdGlvbnMuc2hvd01vZGFsRm9ybShncmlkLmdldElkKCkpKTtcbiAgICAgICAgdGhpcy5maWxsRXhwb3J0Rm9ybSgkc3FsTWFuYWdlckZvcm0sIGdyaWQpO1xuICAgICAgICAkc3FsTWFuYWdlckZvcm0uc3VibWl0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaWxsIGV4cG9ydCBmb3JtIHdpdGggU1FMIGFuZCBpdCdzIG5hbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkc3FsTWFuYWdlckZvcm1cbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uLnByb3RvdHlwZS5maWxsRXhwb3J0Rm9ybSA9IGZ1bmN0aW9uICgkc3FsTWFuYWdlckZvcm0sIGdyaWQpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gZ3JpZFxuICAgICAgICAgICAgLmdldENvbnRhaW5lcigpXG4gICAgICAgICAgICAuZmluZChHcmlkTWFwLmdyaWRUYWJsZSlcbiAgICAgICAgICAgIC5kYXRhKCdxdWVyeScpO1xuICAgICAgICAkc3FsTWFuYWdlckZvcm0uZmluZCgndGV4dGFyZWFbbmFtZT1cInNxbFwiXScpLnZhbChxdWVyeSk7XG4gICAgICAgICRzcWxNYW5hZ2VyRm9ybVxuICAgICAgICAgICAgLmZpbmQoJ2lucHV0W25hbWU9XCJuYW1lXCJdJylcbiAgICAgICAgICAgIC52YWwodGhpcy5nZXROYW1lRnJvbUJyZWFkY3J1bWIoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZXhwb3J0IG5hbWUgZnJvbSBwYWdlJ3MgYnJlYWRjcnVtYlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24ucHJvdG90eXBlLmdldE5hbWVGcm9tQnJlYWRjcnVtYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRicmVhZGNydW1icyA9ICQoR3JpZE1hcC5oZWFkZXJUb29sYmFyKS5maW5kKEdyaWRNYXAuYnJlYWRjcnVtYkl0ZW0pO1xuICAgICAgICB2YXIgbmFtZSA9ICcnO1xuICAgICAgICAkYnJlYWRjcnVtYnMuZWFjaChmdW5jdGlvbiAoaSwgaXRlbSkge1xuICAgICAgICAgICAgdmFyICRicmVhZGNydW1iID0gJChpdGVtKTtcbiAgICAgICAgICAgIHZhciBicmVhZGNydW1iVGl0bGUgPSAkYnJlYWRjcnVtYi5maW5kKCdhJykubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gJGJyZWFkY3J1bWIuZmluZCgnYScpLnRleHQoKVxuICAgICAgICAgICAgICAgIDogJGJyZWFkY3J1bWIudGV4dCgpO1xuICAgICAgICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLmNvbmNhdCgnID4gJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5jb25jYXQoYnJlYWRjcnVtYlRpdGxlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH07XG4gICAgcmV0dXJuIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IENhcm1pbmUgRGkgR3J1dHRvbGFcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIChBRkwgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UudHh0LlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvYWZsLTMuMC5waHBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHA6Ly93d3cucHJlc3Rhc2hvcC5jb20gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogIEBhdXRob3IgICAgY2RpZ3J1dHRvbGEgPGMuZGlncnV0dG9sYUBob3RtYWlsLml0PlxuICogIEBjb3B5cmlnaHQgQ29weXJpZ2h0IHNpbmNlIDIwMDcgQ2FybWluZSBEaSBHcnV0dG9sYVxuICogIEBsaWNlbnNlICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL2FmbC0zLjAucGhwICBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgKEFGTCAzLjApXG4gKlxuICovXG5cbmltcG9ydCBHcmlkIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZ3JpZC9ncmlkJztcbmltcG9ydCBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vbGluay1yb3ctYWN0aW9uLWV4dGVuc2lvbic7XG5pbXBvcnQgU3VibWl0Um93QWN0aW9uRXh0ZW5zaW9uIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vYWN0aW9uL3Jvdy9zdWJtaXQtcm93LWFjdGlvbi1leHRlbnNpb24nO1xuaW1wb3J0IFNvcnRpbmdFeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9zb3J0aW5nLWV4dGVuc2lvbic7XG5pbXBvcnQgRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vZmlsdGVycy1yZXNldC1leHRlbnNpb24nO1xuaW1wb3J0IFJlbG9hZExpc3RBY3Rpb25FeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9yZWxvYWQtbGlzdC1leHRlbnNpb24nO1xuaW1wb3J0IENvbHVtblRvZ2dsaW5nRXh0ZW5zaW9uIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vY29sdW1uLXRvZ2dsaW5nLWV4dGVuc2lvbic7XG5pbXBvcnQgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vZXhwb3J0LXRvLXNxbC1tYW5hZ2VyLWV4dGVuc2lvbic7XG5pbXBvcnQgRm9ybVN1Ym1pdEJ1dHRvbiBmcm9tICdAUFNKcy9jb21wb25lbnRzL2Zvcm0tc3VibWl0LWJ1dHRvbic7XG5cbmNvbnN0IHskfSA9IHdpbmRvd1xuXG4kKCgpID0+IHtcbiAgICBjb25zdCBncmlkID0gbmV3IEdyaWQoJ2NhcnRydWxlcXVhbnRpdHknKVxuICAgIGdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBTb3J0aW5nRXh0ZW5zaW9uKCkpO1xuICAgIGdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uKCkpO1xuICAgIGdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24oKSk7XG4gICAgZ3JpZC5hZGRFeHRlbnNpb24obmV3IEZpbHRlcnNSZXNldEV4dGVuc2lvbigpKTtcbiAgICBncmlkLmFkZEV4dGVuc2lvbihuZXcgUmVsb2FkTGlzdEFjdGlvbkV4dGVuc2lvbigpKTtcbiAgICBncmlkLmFkZEV4dGVuc2lvbihuZXcgQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24oKSk7XG4gICAgZ3JpZC5hZGRFeHRlbnNpb24obmV3IEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbigpKTtcblxuICAgIG5ldyBGb3JtU3VibWl0QnV0dG9uKCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=